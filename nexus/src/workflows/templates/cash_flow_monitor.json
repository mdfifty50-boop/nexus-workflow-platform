{
  "id": "cash_flow_monitor",
  "name": "Cash Flow Monitor",
  "name_ar": "Ù…Ø±Ø§Ù‚Ø¨ Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ",
  "description": "Monitor bank accounts and cash flow in real-time. Get alerts for low balances, large transactions, and unusual activity. Generate daily/weekly cash flow reports automatically.",
  "description_ar": "Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØµØ±ÙÙŠØ© ÙˆØ§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù„Ù„Ø£Ø±ØµØ¯Ø© Ø§Ù„Ù…Ù†Ø®ÙØ¶Ø© ÙˆØ§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© ÙˆØ§Ù„Ù†Ø´Ø§Ø· ØºÙŠØ± Ø§Ù„Ø¹Ø§Ø¯ÙŠ. Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©/Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.",
  "domain": "sme",
  "roiTier": 1,
  "annualValue": "$32,000/year",
  "requiredIntegrations": ["googlesheets", "gmail", "slack"],
  "optionalIntegrations": ["quickbooks", "xero", "plaid", "whatsapp"],
  "exampleUserInput": "Monitor my cash flow and alert me about low balances",
  "exampleUserInput_ar": "Ø±Ø§Ù‚Ø¨ ØªØ¯ÙÙ‚ÙŠ Ø§Ù„Ù†Ù‚Ø¯ÙŠ ÙˆÙ†Ø¨Ù‡Ù†ÙŠ Ø¹Ù† Ø§Ù„Ø£Ø±ØµØ¯Ø© Ø§Ù„Ù…Ù†Ø®ÙØ¶Ø©",
  "keywords": ["cash flow", "balance", "bank", "finance", "treasury", "alert", "ØªØ¯ÙÙ‚ Ù†Ù‚Ø¯ÙŠ", "Ø±ØµÙŠØ¯", "Ø¨Ù†Ùƒ", "Ù…Ø§Ù„ÙŠØ©", "Ø®Ø²ÙŠÙ†Ø©", "ØªÙ†Ø¨ÙŠÙ‡"],
  "dynamicParameters": {
    "low_balance_threshold": {
      "type": "number",
      "default": 5000,
      "label": "Low balance alert threshold",
      "label_ar": "Ø­Ø¯ ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ù†Ø®ÙØ¶"
    },
    "large_transaction_threshold": {
      "type": "number",
      "default": 1000,
      "label": "Large transaction alert threshold",
      "label_ar": "Ø­Ø¯ ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©"
    },
    "monitor_frequency": {
      "type": "select",
      "options": ["hourly", "twice_daily", "daily"],
      "default": "twice_daily",
      "label": "Balance check frequency",
      "label_ar": "ØªÙƒØ±Ø§Ø± ÙØ­Øµ Ø§Ù„Ø±ØµÙŠØ¯"
    },
    "report_frequency": {
      "type": "select",
      "options": ["daily", "weekly", "both"],
      "default": "daily",
      "label": "Cash flow report frequency",
      "label_ar": "ØªÙƒØ±Ø§Ø± ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ"
    },
    "forecast_days": {
      "type": "number",
      "default": 30,
      "label": "Days to forecast cash flow",
      "label_ar": "Ø£ÙŠØ§Ù… Ù„Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ"
    }
  },
  "messages": {
    "low_balance_alert_en": "ğŸš¨ *Low Balance Alert*\n\nAccount: {{account_name}}\nCurrent Balance: {{currency}} {{current_balance}}\nThreshold: {{currency}} {{threshold}}\n\nâš ï¸ Balance is below your set threshold.\n\n*Recent Activity:*\n{{#each recent_transactions}}\nâ€¢ {{date}}: {{description}} ({{type}} {{currency}} {{amount}})\n{{/each}}\n\n*Pending Payments:*\n{{#each pending_payments}}\nâ€¢ {{due_date}}: {{description}} ({{currency}} {{amount}})\n{{/each}}\n\n*Action Required:* Review and transfer funds if needed.",
    "low_balance_alert_ar": "ğŸš¨ *ØªÙ†Ø¨ÙŠÙ‡ Ø±ØµÙŠØ¯ Ù…Ù†Ø®ÙØ¶*\n\nØ§Ù„Ø­Ø³Ø§Ø¨: {{account_name}}\nØ§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ: {{currency}} {{current_balance}}\nØ§Ù„Ø­Ø¯: {{currency}} {{threshold}}\n\nâš ï¸ Ø§Ù„Ø±ØµÙŠØ¯ Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…Ø­Ø¯Ø¯.\n\n*Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø£Ø®ÙŠØ±:*\n{{#each recent_transactions}}\nâ€¢ {{date}}: {{description}} ({{type}} {{currency}} {{amount}})\n{{/each}}\n\n*Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©:*\n{{#each pending_payments}}\nâ€¢ {{due_date}}: {{description}} ({{currency}} {{amount}})\n{{/each}}\n\n*Ù…Ø·Ù„ÙˆØ¨ Ø¥Ø¬Ø±Ø§Ø¡:* Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±.",
    "large_transaction_alert_en": "ğŸ’° *Large Transaction Alert*\n\nAccount: {{account_name}}\nTransaction: {{transaction_type}}\nAmount: {{currency}} {{amount}}\nDate: {{transaction_date}}\n\n*Details:*\nDescription: {{description}}\nReference: {{reference}}\n{{#if counterparty}}Counterparty: {{counterparty}}{{/if}}\n\n*Balance After:* {{currency}} {{balance_after}}\n\n{{#if unusual}}âš ï¸ This transaction is unusual based on your history.{{/if}}",
    "daily_report_en": "ğŸ“Š *Daily Cash Flow Report - {{date}}*\n\n*Account Balances:*\n{{#each accounts}}\nâ€¢ {{name}}: {{currency}} {{balance}} {{change_indicator}}\n{{/each}}\n\n*Total Cash:* {{currency}} {{total_balance}}\nvs Yesterday: {{daily_change_percent}}%\n\n*Today's Activity:*\nInflows: +{{currency}} {{inflows}}\nOutflows: -{{currency}} {{outflows}}\nNet: {{currency}} {{net_flow}}\n\n*Top Transactions:*\n{{#each top_transactions}}\nâ€¢ {{description}}: {{type}} {{currency}} {{amount}}\n{{/each}}\n\n*Upcoming (Next 7 Days):*\nExpected In: {{currency}} {{expected_in}}\nExpected Out: {{currency}} {{expected_out}}",
    "daily_report_ar": "ğŸ“Š *ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ Ø§Ù„ÙŠÙˆÙ…ÙŠ - {{date}}*\n\n*Ø£Ø±ØµØ¯Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª:*\n{{#each accounts}}\nâ€¢ {{name}}: {{currency}} {{balance}} {{change_indicator}}\n{{/each}}\n\n*Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‚Ø¯:* {{currency}} {{total_balance}}\nÙ…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ø£Ù…Ø³: {{daily_change_percent}}%\n\n*Ù†Ø´Ø§Ø· Ø§Ù„ÙŠÙˆÙ…:*\nØ§Ù„ØªØ¯ÙÙ‚Ø§Øª Ø§Ù„Ø¯Ø§Ø®Ù„Ø©: +{{currency}} {{inflows}}\nØ§Ù„ØªØ¯ÙÙ‚Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬Ø©: -{{currency}} {{outflows}}\nØ§Ù„ØµØ§ÙÙŠ: {{currency}} {{net_flow}}\n\n*Ø£ÙƒØ¨Ø± Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª:*\n{{#each top_transactions}}\nâ€¢ {{description}}: {{type}} {{currency}} {{amount}}\n{{/each}}\n\n*Ø§Ù„Ù‚Ø§Ø¯Ù… (Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù€7 Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©):*\nØ§Ù„Ù…ØªÙˆÙ‚Ø¹ Ø¯Ø®ÙˆÙ„Ù‡: {{currency}} {{expected_in}}\nØ§Ù„Ù…ØªÙˆÙ‚Ø¹ Ø®Ø±ÙˆØ¬Ù‡: {{currency}} {{expected_out}}",
    "weekly_summary_en": "ğŸ“ˆ *Weekly Cash Flow Summary*\n\nPeriod: {{week_start}} - {{week_end}}\n\n*Opening Balance:* {{currency}} {{opening}}\n*Closing Balance:* {{currency}} {{closing}}\n*Net Change:* {{currency}} {{net_change}} ({{change_percent}}%)\n\n*Weekly Breakdown:*\n{{#each daily_breakdown}}\n{{day}}: In {{currency}} {{in}} | Out {{currency}} {{out}} | Net {{net}}\n{{/each}}\n\n*By Category:*\n{{#each categories}}\nâ€¢ {{name}}: {{currency}} {{amount}} ({{percent}}%)\n{{/each}}\n\n*Cash Flow Forecast (Next {{forecast_days}} Days):*\nProjected Balance: {{currency}} {{projected_balance}}\n{{#if deficit_warning}}âš ï¸ Potential deficit on {{deficit_date}}{{/if}}",
    "forecast_alert_en": "âš ï¸ *Cash Flow Forecast Warning*\n\nBased on current trends and scheduled payments:\n\n*Projected Issue:* Balance may go negative on {{deficit_date}}\n\n*Current Balance:* {{currency}} {{current}}\n*Expected Outflows:* {{currency}} {{expected_out}}\n*Expected Inflows:* {{currency}} {{expected_in}}\n*Projected Balance:* {{currency}} {{projected}}\n\n*Recommendations:*\n{{#each recommendations}}\nâ€¢ {{recommendation}}\n{{/each}}\n\n*Action Required:* Review upcoming payments and receivables."
  },
  "executionPlan": {
    "tasks": [
      {
        "id": "task_1",
        "name": "Scheduled Balance Check",
        "name_ar": "ÙØ­Øµ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„",
        "type": "trigger",
        "integrationId": "system",
        "dependencies": [],
        "config": {
          "toolSlug": "SYSTEM_SCHEDULE",
          "action": "cron",
          "params": {
            "schedule": "{{monitor_frequency_cron}}",
            "timezone": "{{timezone}}"
          }
        }
      },
      {
        "id": "task_2",
        "name": "Read Account Data",
        "name_ar": "Ù‚Ø±Ø§Ø¡Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_1"],
        "config": {
          "toolSlug": "GOOGLESHEETS_GET_VALUES",
          "action": "read",
          "params": {
            "spreadsheet_id": "{{cash_flow_sheet}}",
            "range": "Balances!A:F"
          }
        }
      },
      {
        "id": "task_3",
        "name": "Read Transactions",
        "name_ar": "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_1"],
        "config": {
          "toolSlug": "GOOGLESHEETS_GET_VALUES",
          "action": "read",
          "params": {
            "spreadsheet_id": "{{cash_flow_sheet}}",
            "range": "Transactions!A:H",
            "filter": "date >= {{today_minus_7}}"
          }
        }
      },
      {
        "id": "task_4",
        "name": "Analyze Cash Flow",
        "name_ar": "ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ",
        "type": "action",
        "integrationId": "system",
        "dependencies": ["task_2", "task_3"],
        "config": {
          "toolSlug": "SYSTEM_PROCESS",
          "action": "analyze",
          "params": {
            "balances": "{{task_2.values}}",
            "transactions": "{{task_3.values}}",
            "low_threshold": "{{low_balance_threshold}}",
            "large_threshold": "{{large_transaction_threshold}}"
          }
        }
      },
      {
        "id": "task_5",
        "name": "Check Low Balance",
        "name_ar": "ÙØ­Øµ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ù†Ø®ÙØ¶",
        "type": "condition",
        "integrationId": "system",
        "dependencies": ["task_4"],
        "config": {
          "toolSlug": "SYSTEM_CONDITION",
          "action": "check",
          "params": {
            "condition": "task_4.low_balance_accounts.length > 0"
          }
        }
      },
      {
        "id": "task_6",
        "name": "Send Low Balance Alert",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ù†Ø®ÙØ¶",
        "type": "action",
        "integrationId": "slack",
        "dependencies": ["task_5"],
        "config": {
          "toolSlug": "SLACK_SEND_MESSAGE",
          "action": "send",
          "params": {
            "channel": "#finance",
            "message": "{{messages.low_balance_alert_en}}",
            "condition": "task_5.result === true"
          }
        }
      },
      {
        "id": "task_7",
        "name": "Send WhatsApp Alert",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ ØªÙ†Ø¨ÙŠÙ‡ ÙˆØ§ØªØ³Ø§Ø¨",
        "type": "action",
        "integrationId": "whatsapp",
        "dependencies": ["task_5"],
        "config": {
          "toolSlug": "WHATSAPP_SEND_MESSAGE",
          "action": "send",
          "params": {
            "to": "{{owner_phone}}",
            "message": "{{messages.low_balance_alert_{{language}}}}",
            "condition": "task_5.result === true"
          }
        }
      },
      {
        "id": "task_8",
        "name": "Check Large Transactions",
        "name_ar": "ÙØ­Øµ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©",
        "type": "action",
        "integrationId": "slack",
        "dependencies": ["task_4"],
        "config": {
          "toolSlug": "SLACK_SEND_MESSAGE",
          "action": "batch_send",
          "params": {
            "channel": "#finance",
            "messages": "{{task_4.large_transactions}}",
            "template": "{{messages.large_transaction_alert_en}}",
            "condition": "task_4.large_transactions.length > 0"
          }
        }
      },
      {
        "id": "task_9",
        "name": "Daily Report Trigger",
        "name_ar": "Ù…Ø´ØºÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ",
        "type": "trigger",
        "integrationId": "system",
        "dependencies": [],
        "config": {
          "toolSlug": "SYSTEM_SCHEDULE",
          "action": "cron",
          "params": {
            "schedule": "0 18 * * 0-4",
            "description": "Daily at 6 PM on workdays",
            "timezone": "{{timezone}}"
          }
        }
      },
      {
        "id": "task_10",
        "name": "Generate Daily Report",
        "name_ar": "Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ",
        "type": "action",
        "integrationId": "gmail",
        "dependencies": ["task_9"],
        "config": {
          "toolSlug": "GMAIL_SEND_EMAIL",
          "action": "send",
          "params": {
            "to": "{{report_recipients}}",
            "subject": "ğŸ“Š Daily Cash Flow Report - {{date}} - {{currency}} {{total_balance}}",
            "body": "{{messages.daily_report_{{language}}}}",
            "condition": "report_frequency === 'daily' OR report_frequency === 'both'"
          }
        }
      }
    ],
    "requiredIntegrations": ["googlesheets", "gmail", "slack"]
  },
  "preFlightQuestions": [
    {
      "id": "low_balance_threshold",
      "question": "Alert when balance falls below?",
      "question_ar": "Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙ†Ø®ÙØ¶ Ø§Ù„Ø±ØµÙŠØ¯ Ø¹Ù†ØŸ",
      "type": "number",
      "default": 5000
    },
    {
      "id": "large_transaction_threshold",
      "question": "Alert for transactions above?",
      "question_ar": "Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª ÙÙˆÙ‚ØŸ",
      "type": "number",
      "default": 1000
    },
    {
      "id": "monitor_frequency",
      "question": "How often to check balances?",
      "question_ar": "ÙƒÙ… Ù…Ø±Ø© ÙŠØªÙ… ÙØ­Øµ Ø§Ù„Ø£Ø±ØµØ¯Ø©ØŸ",
      "type": "select",
      "options": [
        {"value": "hourly", "label": "Hourly / ÙƒÙ„ Ø³Ø§Ø¹Ø©"},
        {"value": "twice_daily", "label": "Twice Daily / Ù…Ø±ØªÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹"},
        {"value": "daily", "label": "Daily / ÙŠÙˆÙ…ÙŠØ§Ù‹"}
      ],
      "default": "twice_daily"
    },
    {
      "id": "report_frequency",
      "question": "How often to send reports?",
      "question_ar": "ÙƒÙ… Ù…Ø±Ø© ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±ØŸ",
      "type": "select",
      "options": [
        {"value": "daily", "label": "Daily / ÙŠÙˆÙ…ÙŠØ§Ù‹"},
        {"value": "weekly", "label": "Weekly / Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹"},
        {"value": "both", "label": "Both / ÙƒÙ„Ø§Ù‡Ù…Ø§"}
      ],
      "default": "daily"
    }
  ],
  "regionalConfig": {
    "kuwait": {
      "timezone": "Asia/Kuwait",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "KWD",
      "defaultLanguage": "bilingual"
    },
    "saudi": {
      "timezone": "Asia/Riyadh",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "SAR",
      "defaultLanguage": "arabic"
    },
    "uae": {
      "timezone": "Asia/Dubai",
      "workDays": [1, 2, 3, 4, 5],
      "currency": "AED",
      "defaultLanguage": "english"
    }
  }
}
