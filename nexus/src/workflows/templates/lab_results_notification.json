{
  "id": "lab_results_notification",
  "name": "Lab Results Notification",
  "name_ar": "Ø¥Ø´Ø¹Ø§Ø± Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø®ØªØ¨Ø±",
  "description": "Automatically notify patients when their lab results are ready. Include doctor's review status, any urgent flags, and next steps. Streamline communication while maintaining HIPAA/privacy compliance.",
  "description_ar": "Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø±Ø¶Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø¬Ø§Ù‡Ø²ÙŠØ© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø®ØªØ¨Ø±. ÙŠØªØ¶Ù…Ù† Ø­Ø§Ù„Ø© Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨ ÙˆØ£ÙŠ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø¹Ø§Ø¬Ù„Ø© ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©. ØªØ¨Ø³ÙŠØ· Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„ Ù„Ù„Ø®ØµÙˆØµÙŠØ©.",
  "domain": "clinic",
  "roiTier": 1,
  "annualValue": "$35,000/year",
  "requiredIntegrations": ["googlesheets", "whatsapp", "gmail"],
  "optionalIntegrations": ["slack", "googlecalendar"],
  "exampleUserInput": "Notify patients when their lab results are ready",
  "exampleUserInput_ar": "Ø£Ø®Ø·Ø± Ø§Ù„Ù…Ø±Ø¶Ù‰ Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ù†ØªØ§Ø¦Ø¬ Ù…Ø®ØªØ¨Ø±Ù‡Ù… Ø¬Ø§Ù‡Ø²Ø©",
  "keywords": ["lab", "results", "test", "blood", "notification", "report", "Ù…Ø®ØªØ¨Ø±", "Ù†ØªØ§Ø¦Ø¬", "ÙØ­Øµ", "Ø¯Ù…", "Ø¥Ø´Ø¹Ø§Ø±", "ØªÙ‚Ø±ÙŠØ±"],
  "dynamicParameters": {
    "require_doctor_review": {
      "type": "boolean",
      "default": true,
      "label": "Require doctor review before notification",
      "label_ar": "Ø·Ù„Ø¨ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±"
    },
    "include_result_summary": {
      "type": "boolean",
      "default": false,
      "label": "Include result summary in message",
      "label_ar": "ØªØ¶Ù…ÙŠÙ† Ù…Ù„Ø®Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø©"
    },
    "urgent_flag_immediate": {
      "type": "boolean",
      "default": true,
      "label": "Immediately notify for urgent results",
      "label_ar": "Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ Ù„Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©"
    },
    "offer_telehealth_followup": {
      "type": "boolean",
      "default": true,
      "label": "Offer telehealth follow-up option",
      "label_ar": "Ø¹Ø±Ø¶ Ø®ÙŠØ§Ø± Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ù† Ø¨Ø¹Ø¯"
    }
  },
  "messages": {
    "results_ready_en": "ğŸ”¬ *Lab Results Ready*\n\nHi {{patient_name}},\n\nYour lab results from {{test_date}} are now available.\n\nğŸ“‹ *Test:* {{test_name}}\nğŸ‘¨â€âš•ï¸ *Reviewed by:* Dr. {{doctor_name}}\nâœ… *Status:* {{result_status}}\n\n{{#if normal_results}}âœ… Your results are within normal range.{{/if}}\n{{#if requires_followup}}ğŸ“… Dr. {{doctor_name}} would like to discuss your results.{{/if}}\n\n*To view your full results:*\nâ€¢ Visit our patient portal: {{portal_link}}\nâ€¢ Or request a copy at your next visit\n\n*Options:*\n1ï¸âƒ£ Schedule follow-up appointment\n2ï¸âƒ£ Request telehealth consultation\n3ï¸âƒ£ I have no questions\n\nReply 1, 2, or 3.\n\nğŸ“ Questions? Call {{clinic_phone}}",
    "results_ready_ar": "ğŸ”¬ *Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø®ØªØ¨Ø± Ø¬Ø§Ù‡Ø²Ø©*\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ {{patient_name}}ØŒ\n\nÙ†ØªØ§Ø¦Ø¬ Ù…Ø®ØªØ¨Ø±Ùƒ Ù…Ù† {{test_date}} Ù…ØªØ§Ø­Ø© Ø§Ù„Ø¢Ù†.\n\nğŸ“‹ *Ø§Ù„ÙØ­Øµ:* {{test_name}}\nğŸ‘¨â€âš•ï¸ *Ø±Ø§Ø¬Ø¹Ù‡Ø§:* Ø¯. {{doctor_name}}\nâœ… *Ø§Ù„Ø­Ø§Ù„Ø©:* {{result_status}}\n\n{{#if normal_results}}âœ… Ù†ØªØ§Ø¦Ø¬Ùƒ Ø¶Ù…Ù† Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ.{{/if}}\n{{#if requires_followup}}ğŸ“… Ø¯. {{doctor_name}} ÙŠÙˆØ¯ Ù…Ù†Ø§Ù‚Ø´Ø© Ù†ØªØ§Ø¦Ø¬Ùƒ.{{/if}}\n\n*Ù„Ø¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„Ø©:*\nâ€¢ Ø²ÙŠØ§Ø±Ø© Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…Ø±ÙŠØ¶: {{portal_link}}\nâ€¢ Ø£Ùˆ Ø·Ù„Ø¨ Ù†Ø³Ø®Ø© ÙÙŠ Ø²ÙŠØ§Ø±ØªÙƒ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©\n\n*Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª:*\n1ï¸âƒ£ Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ Ù…ØªØ§Ø¨Ø¹Ø©\n2ï¸âƒ£ Ø·Ù„Ø¨ Ø§Ø³ØªØ´Ø§Ø±Ø© Ø¹Ù† Ø¨Ø¹Ø¯\n3ï¸âƒ£ Ù„ÙŠØ³ Ù„Ø¯ÙŠ Ø£Ø³Ø¦Ù„Ø©\n\nØ±Ø¯ Ø¨Ù€ 1 Ø£Ùˆ 2 Ø£Ùˆ 3.\n\nğŸ“ Ø£Ø³Ø¦Ù„Ø©ØŸ Ø§ØªØµÙ„ Ø¹Ù„Ù‰ {{clinic_phone}}",
    "urgent_results_en": "ğŸš¨ *Important: Lab Results Require Attention*\n\nHi {{patient_name}},\n\nYour recent lab results require prompt medical attention.\n\nğŸ“‹ *Test:* {{test_name}}\nâš ï¸ *Status:* Requires follow-up\n\n*Please contact us as soon as possible:*\nğŸ“ {{clinic_phone}}\n\nDr. {{doctor_name}} is available to discuss your results.\n\n*If this is an emergency, please go to the nearest emergency room or call emergency services.*",
    "urgent_results_ar": "ğŸš¨ *Ù…Ù‡Ù…: Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø®ØªØ¨Ø± ØªØªØ·Ù„Ø¨ Ø§Ù†ØªØ¨Ø§Ù‡Ø§Ù‹*\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ {{patient_name}}ØŒ\n\nÙ†ØªØ§Ø¦Ø¬ Ù…Ø®ØªØ¨Ø±Ùƒ Ø§Ù„Ø£Ø®ÙŠØ±Ø© ØªØªØ·Ù„Ø¨ Ø§Ù‡ØªÙ…Ø§Ù…Ø§Ù‹ Ø·Ø¨ÙŠØ§Ù‹ Ø¹Ø§Ø¬Ù„Ø§Ù‹.\n\nğŸ“‹ *Ø§Ù„ÙØ­Øµ:* {{test_name}}\nâš ï¸ *Ø§Ù„Ø­Ø§Ù„Ø©:* ØªØªØ·Ù„Ø¨ Ù…ØªØ§Ø¨Ø¹Ø©\n\n*ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø§ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†:*\nğŸ“ {{clinic_phone}}\n\nØ¯. {{doctor_name}} Ù…ØªØ§Ø­ Ù„Ù…Ù†Ø§Ù‚Ø´Ø© Ù†ØªØ§Ø¦Ø¬Ùƒ.\n\n*Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ø°Ù‡ Ø­Ø§Ù„Ø© Ø·ÙˆØ§Ø±Ø¦ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ø£Ù‚Ø±Ø¨ ØºØ±ÙØ© Ø·ÙˆØ§Ø±Ø¦ Ø£Ùˆ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø±Ø¦.*",
    "followup_scheduled_en": "ğŸ“… *Follow-up Scheduled*\n\nYour appointment to discuss lab results has been scheduled:\n\nğŸ‘¨â€âš•ï¸ Dr. {{doctor_name}}\nğŸ“… {{appointment_date}}\nâ° {{appointment_time}}\nğŸ“ {{clinic_name}}\n\n*Please bring:*\nâ€¢ ID/Civil ID\nâ€¢ Insurance card\nâ€¢ List of current medications\n\nSee you then!",
    "followup_scheduled_ar": "ğŸ“… *ØªÙ… Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©*\n\nØªÙ… Ø¬Ø¯ÙˆÙ„Ø© Ù…ÙˆØ¹Ø¯Ùƒ Ù„Ù…Ù†Ø§Ù‚Ø´Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø®ØªØ¨Ø±:\n\nğŸ‘¨â€âš•ï¸ Ø¯. {{doctor_name}}\nğŸ“… {{appointment_date}}\nâ° {{appointment_time}}\nğŸ“ {{clinic_name}}\n\n*ÙŠØ±Ø¬Ù‰ Ø¥Ø­Ø¶Ø§Ø±:*\nâ€¢ Ø§Ù„Ù‡ÙˆÙŠØ©/Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø¯Ù†ÙŠØ©\nâ€¢ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ£Ù…ÙŠÙ†\nâ€¢ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©\n\nÙ†Ø±Ø§Ùƒ Ø­ÙŠÙ†Ù‡Ø§!",
    "doctor_review_alert_en": "ğŸ“‹ *Lab Results Awaiting Review*\n\n*Patient:* {{patient_name}}\n*Test:* {{test_name}}\n*Date:* {{test_date}}\n*Status:* {{result_status}}\n{{#if abnormal}}âš ï¸ *Abnormal values detected*{{/if}}\n\n*Action Required:* Review and approve for patient notification",
    "doctor_review_alert_ar": "ğŸ“‹ *Ù†ØªØ§Ø¦Ø¬ Ù…Ø®ØªØ¨Ø± ØªÙ†ØªØ¸Ø± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©*\n\n*Ø§Ù„Ù…Ø±ÙŠØ¶:* {{patient_name}}\n*Ø§Ù„ÙØ­Øµ:* {{test_name}}\n*Ø§Ù„ØªØ§Ø±ÙŠØ®:* {{test_date}}\n*Ø§Ù„Ø­Ø§Ù„Ø©:* {{result_status}}\n{{#if abnormal}}âš ï¸ *ØªÙ… Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ù‚ÙŠÙ… ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠØ©*{{/if}}\n\n*Ø¥Ø¬Ø±Ø§Ø¡ Ù…Ø·Ù„ÙˆØ¨:* Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø±ÙŠØ¶"
  },
  "executionPlan": {
    "tasks": [
      {
        "id": "task_1",
        "name": "Lab Results Added",
        "name_ar": "Ø¥Ø¶Ø§ÙØ© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø®ØªØ¨Ø±",
        "type": "trigger",
        "integrationId": "googlesheets",
        "dependencies": [],
        "config": {
          "toolSlug": "GOOGLESHEETS_ROW_ADDED",
          "action": "webhook",
          "params": {
            "spreadsheet_id": "{{lab_results_sheet}}",
            "sheet": "Results"
          }
        }
      },
      {
        "id": "task_2",
        "name": "Check if Urgent",
        "name_ar": "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¹Ø¬Ø§Ù„",
        "type": "action",
        "integrationId": "system",
        "dependencies": ["task_1"],
        "config": {
          "toolSlug": "SYSTEM_PROCESS",
          "action": "evaluate",
          "params": {
            "condition": "result_status = 'urgent' OR abnormal_flag = true"
          }
        }
      },
      {
        "id": "task_3",
        "name": "Alert Doctor for Urgent",
        "name_ar": "ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ø·Ø¨ÙŠØ¨ Ù„Ù„Ø¹Ø§Ø¬Ù„",
        "type": "action",
        "integrationId": "whatsapp",
        "dependencies": ["task_2"],
        "config": {
          "toolSlug": "WHATSAPP_SEND_MESSAGE",
          "action": "send",
          "params": {
            "to": "{{doctor_phone}}",
            "message": "{{messages.doctor_review_alert_en}}",
            "condition": "is_urgent = true"
          }
        }
      },
      {
        "id": "task_4",
        "name": "Send Urgent Patient Notification",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ø¹Ø§Ø¬Ù„ Ù„Ù„Ù…Ø±ÙŠØ¶",
        "type": "action",
        "integrationId": "whatsapp",
        "dependencies": ["task_3"],
        "config": {
          "toolSlug": "WHATSAPP_SEND_MESSAGE",
          "action": "send",
          "params": {
            "to": "{{patient_phone}}",
            "message": "{{messages.urgent_results_{{patient_language}}}}",
            "condition": "is_urgent = true AND urgent_flag_immediate = true"
          }
        }
      },
      {
        "id": "task_5",
        "name": "Notify Doctor for Review",
        "name_ar": "Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø·Ø¨ÙŠØ¨ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",
        "type": "action",
        "integrationId": "slack",
        "dependencies": ["task_1"],
        "config": {
          "toolSlug": "SLACK_SEND_MESSAGE",
          "action": "send",
          "params": {
            "channel": "#lab-results",
            "message": "{{messages.doctor_review_alert_en}}",
            "condition": "require_doctor_review = true AND is_urgent = false"
          }
        }
      },
      {
        "id": "task_6",
        "name": "Doctor Approves Results",
        "name_ar": "Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ù†ØªØ§Ø¦Ø¬",
        "type": "trigger",
        "integrationId": "googlesheets",
        "dependencies": [],
        "config": {
          "toolSlug": "GOOGLESHEETS_ROW_UPDATED",
          "action": "webhook",
          "params": {
            "spreadsheet_id": "{{lab_results_sheet}}",
            "filter": "status = 'approved'"
          }
        }
      },
      {
        "id": "task_7",
        "name": "Send Results Notification",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬",
        "type": "action",
        "integrationId": "whatsapp",
        "dependencies": ["task_6"],
        "config": {
          "toolSlug": "WHATSAPP_SEND_MESSAGE",
          "action": "send",
          "params": {
            "to": "{{patient_phone}}",
            "message": "{{messages.results_ready_{{patient_language}}}}"
          }
        }
      },
      {
        "id": "task_8",
        "name": "Handle Patient Response",
        "name_ar": "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø¯ Ø§Ù„Ù…Ø±ÙŠØ¶",
        "type": "trigger",
        "integrationId": "whatsapp",
        "dependencies": [],
        "config": {
          "toolSlug": "WHATSAPP_MESSAGE_RECEIVED",
          "action": "webhook",
          "params": {
            "filter": "1|2|3"
          }
        }
      },
      {
        "id": "task_9",
        "name": "Schedule Follow-up",
        "name_ar": "Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©",
        "type": "action",
        "integrationId": "googlecalendar",
        "dependencies": ["task_8"],
        "config": {
          "toolSlug": "GOOGLECALENDAR_CREATE_EVENT",
          "action": "create",
          "params": {
            "calendar_id": "{{appointments_calendar}}",
            "summary": "Lab Results Follow-up - {{patient_name}}",
            "condition": "response = 1 OR response = 2"
          }
        }
      },
      {
        "id": "task_10",
        "name": "Send Confirmation",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ£ÙƒÙŠØ¯",
        "type": "action",
        "integrationId": "whatsapp",
        "dependencies": ["task_9"],
        "config": {
          "toolSlug": "WHATSAPP_SEND_MESSAGE",
          "action": "send",
          "params": {
            "to": "{{patient_phone}}",
            "message": "{{messages.followup_scheduled_{{patient_language}}}}"
          }
        }
      }
    ],
    "requiredIntegrations": ["googlesheets", "whatsapp", "gmail"]
  },
  "preFlightQuestions": [
    {
      "id": "require_doctor_review",
      "question": "Require doctor review before notifying patients?",
      "question_ar": "Ø·Ù„Ø¨ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨ Ù‚Ø¨Ù„ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø±Ø¶Ù‰ØŸ",
      "type": "boolean",
      "default": true
    },
    {
      "id": "include_result_summary",
      "question": "Include result summary in notification message?",
      "question_ar": "ØªØ¶Ù…ÙŠÙ† Ù…Ù„Ø®Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±ØŸ",
      "type": "boolean",
      "default": false
    },
    {
      "id": "urgent_flag_immediate",
      "question": "Send immediate notification for urgent results?",
      "question_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ÙÙˆØ±ÙŠ Ù„Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¹Ø§Ø¬Ù„Ø©ØŸ",
      "type": "boolean",
      "default": true
    },
    {
      "id": "offer_telehealth_followup",
      "question": "Offer telehealth option for follow-up discussions?",
      "question_ar": "Ø¹Ø±Ø¶ Ø®ÙŠØ§Ø± Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø© Ø¹Ù† Ø¨Ø¹Ø¯ Ù„Ù…Ù†Ø§Ù‚Ø´Ø§Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ",
      "type": "boolean",
      "default": true
    }
  ],
  "regionalConfig": {
    "kuwait": {
      "timezone": "Asia/Kuwait",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "KWD",
      "defaultLanguage": "bilingual",
      "healthcareRegulator": "MOH Kuwait",
      "privacyCompliance": "Kuwait Health Data Protection"
    },
    "saudi": {
      "timezone": "Asia/Riyadh",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "SAR",
      "defaultLanguage": "arabic",
      "healthcareRegulator": "MOH Saudi",
      "privacyCompliance": "Saudi PDPL"
    },
    "uae": {
      "timezone": "Asia/Dubai",
      "workDays": [1, 2, 3, 4, 5],
      "currency": "AED",
      "defaultLanguage": "english",
      "healthcareRegulator": "DHA/HAAD",
      "privacyCompliance": "UAE Data Protection Law"
    }
  }
}
