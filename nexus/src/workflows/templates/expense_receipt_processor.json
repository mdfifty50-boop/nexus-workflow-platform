{
  "id": "expense_receipt_processor",
  "name": "Expense Receipt Processor",
  "name_ar": "Ù…Ø¹Ø§Ù„Ø¬ Ø¥ÙŠØµØ§Ù„Ø§Øª Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª",
  "description": "Automatically capture receipts via photo/email, extract expense data using OCR, categorize expenses, and sync to accounting software. Eliminates manual data entry and lost receipts.",
  "description_ar": "Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø¥ÙŠØµØ§Ù„Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ø¨Ø± Ø§Ù„ØµÙˆØ± Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ ÙˆØ§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ¹Ø±Ù Ø§Ù„Ø¶ÙˆØ¦ÙŠØŒ ÙˆØªØµÙ†ÙŠÙ Ø§Ù„Ù…ØµØ±ÙˆÙØ§ØªØŒ ÙˆØ§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©. ÙŠÙ„ØºÙŠ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ ÙˆØ¶ÙŠØ§Ø¹ Ø§Ù„Ø¥ÙŠØµØ§Ù„Ø§Øª.",
  "domain": "sme",
  "roiTier": 1,
  "annualValue": "$18,000/year",
  "requiredIntegrations": ["gmail", "googlesheets", "googledrive"],
  "optionalIntegrations": ["quickbooks", "xero", "slack", "whatsapp"],
  "exampleUserInput": "Process my expense receipts automatically",
  "exampleUserInput_ar": "Ø¹Ø§Ù„Ø¬ Ø¥ÙŠØµØ§Ù„Ø§Øª Ù…ØµØ±ÙˆÙØ§ØªÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹",
  "keywords": ["expense", "receipt", "OCR", "accounting", "reimburse", "Ù…ØµØ±ÙˆÙØ§Øª", "Ø¥ÙŠØµØ§Ù„", "Ù…Ø­Ø§Ø³Ø¨Ø©", "Ø§Ø³ØªØ±Ø¯Ø§Ø¯", "ÙØ§ØªÙˆØ±Ø©"],
  "dynamicParameters": {
    "auto_categorize": {
      "type": "boolean",
      "default": true,
      "label": "Auto-categorize expenses",
      "label_ar": "ØªØµÙ†ÙŠÙ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹"
    },
    "expense_categories": {
      "type": "multiselect",
      "options": ["meals", "travel", "office_supplies", "software", "utilities", "marketing", "other"],
      "default": ["meals", "travel", "office_supplies"],
      "label": "Expense categories to track",
      "label_ar": "ÙØ¦Ø§Øª Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ù„Ù„ØªØªØ¨Ø¹"
    },
    "approval_required": {
      "type": "boolean",
      "default": false,
      "label": "Require manager approval",
      "label_ar": "ÙŠØªØ·Ù„Ø¨ Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø¯ÙŠØ±"
    },
    "currency": {
      "type": "select",
      "options": ["KWD", "SAR", "AED", "USD"],
      "default": "KWD",
      "label": "Primary currency",
      "label_ar": "Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"
    },
    "monthly_budget_alert": {
      "type": "number",
      "default": 500,
      "label": "Monthly budget alert threshold",
      "label_ar": "Ø­Ø¯ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©"
    }
  },
  "messages": {
    "receipt_captured_en": "ğŸ“§ *Receipt Captured*\n\nFrom: {{source}}\nDate: {{capture_date}}\n\n*Extracted Data:*\nVendor: {{vendor_name}}\nAmount: {{currency}} {{amount}}\nDate: {{receipt_date}}\nCategory: {{category}}\n\nâœ… Added to expense tracker\n{{#if needs_approval}}â³ Pending manager approval{{/if}}",
    "receipt_captured_ar": "ğŸ“§ *ØªÙ… Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø¥ÙŠØµØ§Ù„*\n\nÙ…Ù†: {{source}}\nØ§Ù„ØªØ§Ø±ÙŠØ®: {{capture_date}}\n\n*Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©:*\nØ§Ù„Ø¨Ø§Ø¦Ø¹: {{vendor_name}}\nØ§Ù„Ù…Ø¨Ù„Øº: {{currency}} {{amount}}\nØ§Ù„ØªØ§Ø±ÙŠØ®: {{receipt_date}}\nØ§Ù„ÙØ¦Ø©: {{category}}\n\nâœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù…ØªØªØ¨Ø¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª\n{{#if needs_approval}}â³ Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø¯ÙŠØ±{{/if}}",
    "weekly_summary_en": "ğŸ“Š *Weekly Expense Summary*\n\nPeriod: {{week_start}} - {{week_end}}\n\n*By Category:*\n{{#each categories}}\nâ€¢ {{name}}: {{currency}} {{total}}\n{{/each}}\n\n*Total:* {{currency}} {{weekly_total}}\n*Monthly Budget Used:* {{budget_percent}}%\n\n{{#if over_budget}}âš ï¸ Warning: Approaching budget limit{{/if}}",
    "weekly_summary_ar": "ğŸ“Š *Ù…Ù„Ø®Øµ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ*\n\nØ§Ù„ÙØªØ±Ø©: {{week_start}} - {{week_end}}\n\n*Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©:*\n{{#each categories}}\nâ€¢ {{name}}: {{currency}} {{total}}\n{{/each}}\n\n*Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* {{currency}} {{weekly_total}}\n*Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©:* {{budget_percent}}%\n\n{{#if over_budget}}âš ï¸ ØªØ­Ø°ÙŠØ±: Ø§Ù‚ØªØ±Ø§Ø¨ Ù…Ù† Ø­Ø¯ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©{{/if}}",
    "approval_request_en": "ğŸ“‹ *Expense Approval Request*\n\nEmployee: {{employee_name}}\nReceipt: {{vendor_name}}\nAmount: {{currency}} {{amount}}\nCategory: {{category}}\nDate: {{receipt_date}}\n\n[Approve] [Reject] [Request Info]",
    "budget_alert_en": "ğŸš¨ *Budget Alert*\n\nYou have used {{budget_percent}}% of your monthly expense budget.\n\nSpent: {{currency}} {{spent}}\nBudget: {{currency}} {{budget}}\nRemaining: {{currency}} {{remaining}}\n\nDays left in month: {{days_remaining}}"
  },
  "executionPlan": {
    "tasks": [
      {
        "id": "task_1",
        "name": "Receipt Email Received",
        "name_ar": "Ø§Ø³ØªÙ„Ø§Ù… Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥ÙŠØµØ§Ù„",
        "type": "trigger",
        "integrationId": "gmail",
        "dependencies": [],
        "config": {
          "toolSlug": "GMAIL_NEW_EMAIL",
          "action": "webhook",
          "params": {
            "filter": "has:attachment (receipt OR invoice OR ÙØ§ØªÙˆØ±Ø© OR Ø¥ÙŠØµØ§Ù„)"
          }
        }
      },
      {
        "id": "task_2",
        "name": "Extract Receipt Image",
        "name_ar": "Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„",
        "type": "action",
        "integrationId": "gmail",
        "dependencies": ["task_1"],
        "config": {
          "toolSlug": "GMAIL_GET_ATTACHMENT",
          "action": "download",
          "params": {
            "message_id": "{{task_1.message_id}}",
            "filter_type": "image/*,application/pdf"
          }
        }
      },
      {
        "id": "task_3",
        "name": "OCR Extract Data",
        "name_ar": "Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ù„ØªØ¹Ø±Ù Ø§Ù„Ø¶ÙˆØ¦ÙŠ",
        "type": "action",
        "integrationId": "system",
        "dependencies": ["task_2"],
        "config": {
          "toolSlug": "SYSTEM_PROCESS",
          "action": "ocr_extract",
          "params": {
            "image": "{{task_2.attachment}}",
            "extract_fields": ["vendor", "amount", "date", "items", "tax"]
          }
        }
      },
      {
        "id": "task_4",
        "name": "Categorize Expense",
        "name_ar": "ØªØµÙ†ÙŠÙ Ø§Ù„Ù…ØµØ±ÙˆÙ",
        "type": "action",
        "integrationId": "system",
        "dependencies": ["task_3"],
        "config": {
          "toolSlug": "SYSTEM_PROCESS",
          "action": "categorize",
          "params": {
            "vendor": "{{task_3.vendor}}",
            "amount": "{{task_3.amount}}",
            "categories": "{{expense_categories}}",
            "condition": "auto_categorize === true"
          }
        }
      },
      {
        "id": "task_5",
        "name": "Save to Drive",
        "name_ar": "Ø­ÙØ¸ ÙÙŠ Drive",
        "type": "action",
        "integrationId": "googledrive",
        "dependencies": ["task_2"],
        "config": {
          "toolSlug": "GOOGLEDRIVE_UPLOAD_FILE",
          "action": "upload",
          "params": {
            "file": "{{task_2.attachment}}",
            "folder": "Expenses/{{year}}/{{month}}",
            "name": "{{task_3.vendor}}_{{task_3.date}}"
          }
        }
      },
      {
        "id": "task_6",
        "name": "Add to Expense Sheet",
        "name_ar": "Ø¥Ø¶Ø§ÙØ© Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_4", "task_5"],
        "config": {
          "toolSlug": "GOOGLESHEETS_APPEND_ROW",
          "action": "append",
          "params": {
            "spreadsheet_id": "{{expense_tracker_sheet}}",
            "values": [
              "{{task_3.date}}",
              "{{task_3.vendor}}",
              "{{task_4.category}}",
              "{{task_3.amount}}",
              "{{task_5.file_url}}",
              "{{current_datetime}}"
            ]
          }
        }
      },
      {
        "id": "task_7",
        "name": "Send Confirmation",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ£ÙƒÙŠØ¯",
        "type": "action",
        "integrationId": "whatsapp",
        "dependencies": ["task_6"],
        "config": {
          "toolSlug": "WHATSAPP_SEND_MESSAGE",
          "action": "send",
          "params": {
            "to": "{{user_phone}}",
            "message": "{{messages.receipt_captured_{{language}}}}"
          }
        }
      }
    ],
    "requiredIntegrations": ["gmail", "googlesheets", "googledrive"]
  },
  "preFlightQuestions": [
    {
      "id": "auto_categorize",
      "question": "Auto-categorize expenses by vendor?",
      "question_ar": "ØªØµÙ†ÙŠÙ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø­Ø³Ø¨ Ø§Ù„Ø¨Ø§Ø¦Ø¹ØŸ",
      "type": "boolean",
      "default": true
    },
    {
      "id": "currency",
      "question": "What is your primary currency?",
      "question_ar": "Ù…Ø§ Ù‡ÙŠ Ø¹Ù…Ù„ØªÙƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŸ",
      "type": "select",
      "options": [
        {"value": "KWD", "label": "Kuwaiti Dinar (KWD)"},
        {"value": "SAR", "label": "Saudi Riyal (SAR)"},
        {"value": "AED", "label": "UAE Dirham (AED)"},
        {"value": "USD", "label": "US Dollar (USD)"}
      ],
      "default": "KWD"
    },
    {
      "id": "approval_required",
      "question": "Require manager approval for expenses?",
      "question_ar": "Ù‡Ù„ ØªØªØ·Ù„Ø¨ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø¯ÙŠØ±ØŸ",
      "type": "boolean",
      "default": false
    },
    {
      "id": "monthly_budget_alert",
      "question": "Monthly budget alert threshold?",
      "question_ar": "Ø­Ø¯ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©ØŸ",
      "type": "number",
      "default": 500
    }
  ],
  "regionalConfig": {
    "kuwait": {
      "timezone": "Asia/Kuwait",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "KWD",
      "vatRate": 0,
      "defaultLanguage": "bilingual"
    },
    "saudi": {
      "timezone": "Asia/Riyadh",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "SAR",
      "vatRate": 15,
      "defaultLanguage": "arabic"
    },
    "uae": {
      "timezone": "Asia/Dubai",
      "workDays": [1, 2, 3, 4, 5],
      "currency": "AED",
      "vatRate": 5,
      "defaultLanguage": "english"
    }
  }
}
