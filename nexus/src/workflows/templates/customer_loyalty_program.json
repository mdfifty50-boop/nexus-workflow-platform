{
  "id": "customer_loyalty_program",
  "name": "Customer Loyalty Program",
  "name_ar": "Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙˆÙ„Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
  "description": "Automate your loyalty program with points tracking, tier upgrades, reward notifications, and personalized offers. Increase customer retention and repeat purchases without manual management.",
  "description_ar": "Ø£ØªÙ…Øª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙˆÙ„Ø§Ø¡ Ù…Ø¹ ØªØªØ¨Ø¹ Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØªØ±Ù‚ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª ÙˆØ¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø´Ø®ØµÙŠØ©. Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© Ø¨Ø¯ÙˆÙ† Ø¥Ø¯Ø§Ø±Ø© ÙŠØ¯ÙˆÙŠØ©.",
  "domain": "sme",
  "roiTier": 1,
  "annualValue": "$28,000/year",
  "requiredIntegrations": ["googlesheets", "whatsapp", "gmail"],
  "optionalIntegrations": ["stripe", "slack", "notion"],
  "exampleUserInput": "Automate my customer loyalty rewards program",
  "exampleUserInput_ar": "Ø£ØªÙ…Øª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…ÙƒØ§ÙØ¢Øª ÙˆÙ„Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
  "keywords": ["loyalty", "rewards", "points", "tier", "VIP", "customer", "retention", "ÙˆÙ„Ø§Ø¡", "Ù…ÙƒØ§ÙØ¢Øª", "Ù†Ù‚Ø§Ø·", "Ù…Ø³ØªÙˆÙ‰", "Ø¹Ù…ÙŠÙ„", "Ø§Ø­ØªÙØ§Ø¸"],
  "dynamicParameters": {
    "points_per_currency": {
      "type": "number",
      "default": 1,
      "label": "Points earned per currency unit spent",
      "label_ar": "Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø© Ù„ÙƒÙ„ ÙˆØ­Ø¯Ø© Ø¹Ù…Ù„Ø© Ù…Ù†ÙÙ‚Ø©"
    },
    "tier_thresholds": {
      "type": "object",
      "default": {"silver": 500, "gold": 1500, "platinum": 5000},
      "label": "Points required for each tier",
      "label_ar": "Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„ÙƒÙ„ Ù…Ø³ØªÙˆÙ‰"
    },
    "points_expiry_months": {
      "type": "number",
      "default": 12,
      "label": "Points expire after (months)",
      "label_ar": "Ø§Ù†ØªÙ‡Ø§Ø¡ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù†Ù‚Ø§Ø· Ø¨Ø¹Ø¯ (Ø´Ù‡ÙˆØ±)"
    },
    "birthday_bonus_points": {
      "type": "number",
      "default": 100,
      "label": "Bonus points on birthday",
      "label_ar": "Ù†Ù‚Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ© ÙÙŠ Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯"
    }
  },
  "messages": {
    "welcome_member_en": "ğŸ‰ *Welcome to {{program_name}}!*\n\nDear {{customer_name}},\n\nYou're now a member of our exclusive loyalty program!\n\n*Your Starting Tier:* {{tier_name}} {{tier_emoji}}\n*Welcome Bonus:* {{bonus_points}} points\n\n*How It Works:*\nâ€¢ Earn {{points_per_currency}} point for every {{currency}} 1 spent\nâ€¢ Unlock rewards at milestone points\nâ€¢ Enjoy exclusive member-only offers\nâ€¢ Get birthday bonuses and surprises\n\n*Tier Benefits:*\n{{tier_benefits}}\n\nStart earning today! ğŸ›ï¸\n\n{{business_name}}",
    "welcome_member_ar": "ğŸ‰ *Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ {{program_name}}!*\n\nØ¹Ø²ÙŠØ²ÙŠ {{customer_name}}ØŒ\n\nØ£Ù†Øª Ø§Ù„Ø¢Ù† Ø¹Ø¶Ùˆ ÙÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙˆÙ„Ø§Ø¡ Ø§Ù„Ø­ØµØ±ÙŠ!\n\n*Ù…Ø³ØªÙˆØ§Ùƒ Ø§Ù„Ø£ÙˆÙ„ÙŠ:* {{tier_name}} {{tier_emoji}}\n*Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨:* {{bonus_points}} Ù†Ù‚Ø·Ø©\n\n*ÙƒÙŠÙ ÙŠØ¹Ù…Ù„:*\nâ€¢ Ø§ÙƒØ³Ø¨ {{points_per_currency}} Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ {{currency}} 1 Ù…Ù†ÙÙ‚Ø©\nâ€¢ Ø§ÙØªØ­ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø¹Ù†Ø¯ Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø¹Ø§Ù„Ù…\nâ€¢ Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ© Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ ÙÙ‚Ø·\nâ€¢ Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ¢Øª ÙˆÙ‡Ø¯Ø§ÙŠØ§ Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯\n\n*Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰:*\n{{tier_benefits}}\n\nØ§Ø¨Ø¯Ø£ Ø§Ù„ÙƒØ³Ø¨ Ø§Ù„ÙŠÙˆÙ…! ğŸ›ï¸\n\n{{business_name}}",
    "points_earned_en": "â­ *Points Earned!*\n\nHi {{customer_name}},\n\nYou just earned points! ğŸ¯\n\n*Transaction:* {{order_id}}\n*Amount:* {{currency}} {{amount}}\n*Points Earned:* +{{points_earned}}\n\n*Your Balance:*\nâ€¢ Total Points: {{total_points}}\nâ€¢ Tier: {{tier_name}} {{tier_emoji}}\n{{#if next_tier}}â€¢ {{points_to_next}} points to {{next_tier}}{{/if}}\n\n{{#if available_rewards}}*Rewards Available:* {{available_rewards}}{{/if}}\n\nThank you for shopping with us! ğŸ’",
    "points_earned_ar": "â­ *Ù†Ù‚Ø§Ø· Ù…ÙƒØªØ³Ø¨Ø©!*\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ {{customer_name}}ØŒ\n\nÙ„Ù‚Ø¯ ÙƒØ³Ø¨Øª Ù†Ù‚Ø§Ø·Ø§Ù‹! ğŸ¯\n\n*Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©:* {{order_id}}\n*Ø§Ù„Ù…Ø¨Ù„Øº:* {{currency}} {{amount}}\n*Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©:* +{{points_earned}}\n\n*Ø±ØµÙŠØ¯Ùƒ:*\nâ€¢ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‚Ø§Ø·: {{total_points}}\nâ€¢ Ø§Ù„Ù…Ø³ØªÙˆÙ‰: {{tier_name}} {{tier_emoji}}\n{{#if next_tier}}â€¢ {{points_to_next}} Ù†Ù‚Ø·Ø© Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ {{next_tier}}{{/if}}\n\n{{#if available_rewards}}*Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:* {{available_rewards}}{{/if}}\n\nØ´ÙƒØ±Ø§Ù‹ Ù„Ù„ØªØ³ÙˆÙ‚ Ù…Ø¹Ù†Ø§! ğŸ’",
    "tier_upgrade_en": "ğŸ† *Congratulations! Tier Upgrade!*\n\nDear {{customer_name}},\n\nYou've been upgraded to {{new_tier}}! {{tier_emoji}}\n\n*Previous Tier:* {{old_tier}}\n*New Tier:* {{new_tier}}\n\n*Your New Benefits:*\n{{#each new_benefits}}\nâœ¨ {{benefit}}\n{{/each}}\n\n*Special Welcome Gift:*\n{{upgrade_gift}}\n\nThank you for your loyalty! We're excited to have you as a {{new_tier}} member.\n\n{{business_name}}",
    "tier_upgrade_ar": "ğŸ† *Ù…Ø¨Ø±ÙˆÙƒ! ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰!*\n\nØ¹Ø²ÙŠØ²ÙŠ {{customer_name}}ØŒ\n\nØªÙ…Øª ØªØ±Ù‚ÙŠØªÙƒ Ø¥Ù„Ù‰ {{new_tier}}! {{tier_emoji}}\n\n*Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø³Ø§Ø¨Ù‚:* {{old_tier}}\n*Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯:* {{new_tier}}\n\n*Ù…Ø²Ø§ÙŠØ§Ùƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:*\n{{#each new_benefits}}\nâœ¨ {{benefit}}\n{{/each}}\n\n*Ù‡Ø¯ÙŠØ© ØªØ±Ø­ÙŠØ¨ Ø®Ø§ØµØ©:*\n{{upgrade_gift}}\n\nØ´ÙƒØ±Ø§Ù‹ Ù„ÙˆÙ„Ø§Ø¦Ùƒ! Ù†Ø­Ù† Ù…ØªØ­Ù…Ø³ÙˆÙ† Ù„ÙˆØ¬ÙˆØ¯Ùƒ ÙƒØ¹Ø¶Ùˆ {{new_tier}}.\n\n{{business_name}}",
    "reward_available_en": "ğŸ *Reward Unlocked!*\n\nHi {{customer_name}},\n\nYou've unlocked a reward! ğŸ‰\n\n*Reward:* {{reward_name}}\n*Points Required:* {{points_required}}\n*Your Points:* {{total_points}}\n\n*To Redeem:*\n{{redemption_instructions}}\n\n*Expires:* {{expiry_date}}\n\nDon't miss out! Redeem your reward today.",
    "reward_available_ar": "ğŸ *Ù…ÙƒØ§ÙØ£Ø© Ù…ØªØ§Ø­Ø©!*\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ {{customer_name}}ØŒ\n\nÙ„Ù‚Ø¯ ÙØªØ­Øª Ù…ÙƒØ§ÙØ£Ø©! ğŸ‰\n\n*Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©:* {{reward_name}}\n*Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:* {{points_required}}\n*Ù†Ù‚Ø§Ø·Ùƒ:* {{total_points}}\n\n*Ù„Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„:*\n{{redemption_instructions}}\n\n*ØªÙ†ØªÙ‡ÙŠ:* {{expiry_date}}\n\nÙ„Ø§ ØªÙÙˆØª Ø§Ù„ÙØ±ØµØ©! Ø§Ø³ØªØ¨Ø¯Ù„ Ù…ÙƒØ§ÙØ£ØªÙƒ Ø§Ù„ÙŠÙˆÙ….",
    "points_expiring_en": "â° *Points Expiring Soon*\n\nHi {{customer_name}},\n\nSome of your points are expiring soon!\n\n*Expiring Points:* {{expiring_points}}\n*Expiry Date:* {{expiry_date}}\n\n*Your Current Balance:* {{total_points}}\n\n*Use Your Points For:*\n{{#each available_rewards}}\nâ€¢ {{reward_name}}: {{points_needed}} points\n{{/each}}\n\nVisit us soon to use your points! ğŸ›ï¸",
    "monthly_statement_en": "ğŸ“Š *Monthly Loyalty Statement - {{month}}*\n\nDear {{customer_name}},\n\n*Your Tier:* {{tier_name}} {{tier_emoji}}\n\n*Points Activity:*\nâ€¢ Opening Balance: {{opening_balance}}\nâ€¢ Points Earned: +{{points_earned}}\nâ€¢ Points Redeemed: -{{points_redeemed}}\nâ€¢ Points Expired: -{{points_expired}}\nâ€¢ Closing Balance: {{closing_balance}}\n\n*Transactions:*\n{{#each transactions}}\n{{date}}: {{description}} ({{points}})\n{{/each}}\n\n*Next Tier:* {{points_to_next}} points to {{next_tier}}\n\nThank you for being a valued member! ğŸ’"
  },
  "executionPlan": {
    "tasks": [
      {
        "id": "task_1",
        "name": "New Purchase Trigger",
        "name_ar": "Ù…Ø´ØºÙ„ Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙŠØ¯",
        "type": "trigger",
        "integrationId": "stripe",
        "dependencies": [],
        "config": {
          "toolSlug": "STRIPE_PAYMENT_RECEIVED",
          "action": "webhook",
          "params": {
            "event_type": "payment_intent.succeeded"
          }
        }
      },
      {
        "id": "task_2",
        "name": "Get Customer Record",
        "name_ar": "Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…ÙŠÙ„",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_1"],
        "config": {
          "toolSlug": "GOOGLESHEETS_GET_VALUES",
          "action": "read",
          "params": {
            "spreadsheet_id": "{{loyalty_sheet}}",
            "range": "Members!A:L",
            "filter": "email = {{task_1.customer_email}}"
          }
        }
      },
      {
        "id": "task_3",
        "name": "Calculate Points",
        "name_ar": "Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·",
        "type": "action",
        "integrationId": "system",
        "dependencies": ["task_1", "task_2"],
        "config": {
          "toolSlug": "SYSTEM_PROCESS",
          "action": "calculate",
          "params": {
            "amount": "{{task_1.amount}}",
            "points_per_currency": "{{points_per_currency}}",
            "current_points": "{{task_2.points}}",
            "current_tier": "{{task_2.tier}}",
            "tier_thresholds": "{{tier_thresholds}}"
          }
        }
      },
      {
        "id": "task_4",
        "name": "Update Points Balance",
        "name_ar": "ØªØ­Ø¯ÙŠØ« Ø±ØµÙŠØ¯ Ø§Ù„Ù†Ù‚Ø§Ø·",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_3"],
        "config": {
          "toolSlug": "GOOGLESHEETS_UPDATE_VALUES",
          "action": "update",
          "params": {
            "spreadsheet_id": "{{loyalty_sheet}}",
            "range": "Members!{{task_2.row}}",
            "values": "{{task_3.updated_record}}"
          }
        }
      },
      {
        "id": "task_5",
        "name": "Log Transaction",
        "name_ar": "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_3"],
        "config": {
          "toolSlug": "GOOGLESHEETS_APPEND_ROW",
          "action": "append",
          "params": {
            "spreadsheet_id": "{{loyalty_sheet}}",
            "sheet_name": "Transactions",
            "values": ["{{date}}", "{{task_1.customer_email}}", "{{task_1.amount}}", "{{task_3.points_earned}}", "earned", "{{task_1.order_id}}"]
          }
        }
      },
      {
        "id": "task_6",
        "name": "Send Points Notification",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ù‚Ø§Ø·",
        "type": "action",
        "integrationId": "whatsapp",
        "dependencies": ["task_4"],
        "config": {
          "toolSlug": "WHATSAPP_SEND_MESSAGE",
          "action": "send",
          "params": {
            "to": "{{task_2.phone}}",
            "message": "{{messages.points_earned_{{language}}}}"
          }
        }
      },
      {
        "id": "task_7",
        "name": "Check Tier Upgrade",
        "name_ar": "ÙØ­Øµ ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰",
        "type": "condition",
        "integrationId": "system",
        "dependencies": ["task_3"],
        "config": {
          "toolSlug": "SYSTEM_CONDITION",
          "action": "check",
          "params": {
            "condition": "task_3.tier_upgraded === true"
          }
        }
      },
      {
        "id": "task_8",
        "name": "Send Tier Upgrade Message",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰",
        "type": "action",
        "integrationId": "whatsapp",
        "dependencies": ["task_7"],
        "config": {
          "toolSlug": "WHATSAPP_SEND_MESSAGE",
          "action": "send",
          "params": {
            "to": "{{task_2.phone}}",
            "message": "{{messages.tier_upgrade_{{language}}}}",
            "condition": "task_7.result === true"
          }
        }
      },
      {
        "id": "task_9",
        "name": "Monthly Statement Trigger",
        "name_ar": "Ù…Ø´ØºÙ„ Ø§Ù„Ø¨ÙŠØ§Ù† Ø§Ù„Ø´Ù‡Ø±ÙŠ",
        "type": "trigger",
        "integrationId": "system",
        "dependencies": [],
        "config": {
          "toolSlug": "SYSTEM_SCHEDULE",
          "action": "cron",
          "params": {
            "schedule": "0 10 1 * *",
            "description": "1st of each month at 10 AM",
            "timezone": "{{timezone}}"
          }
        }
      }
    ],
    "requiredIntegrations": ["googlesheets", "whatsapp", "gmail"]
  },
  "preFlightQuestions": [
    {
      "id": "points_per_currency",
      "question": "How many points per currency unit spent?",
      "question_ar": "ÙƒÙ… Ù†Ù‚Ø·Ø© Ù„ÙƒÙ„ ÙˆØ­Ø¯Ø© Ø¹Ù…Ù„Ø© Ù…Ù†ÙÙ‚Ø©ØŸ",
      "type": "number",
      "default": 1
    },
    {
      "id": "tier_structure",
      "question": "What tier structure do you want?",
      "question_ar": "Ù…Ø§ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù‡ØŸ",
      "type": "select",
      "options": [
        {"value": "simple", "label": "Simple (Bronze, Silver, Gold)"},
        {"value": "premium", "label": "Premium (Silver, Gold, Platinum, Diamond)"},
        {"value": "custom", "label": "Custom / Ù…Ø®ØµØµ"}
      ],
      "default": "simple"
    },
    {
      "id": "points_expiry_months",
      "question": "When should points expire? (months)",
      "question_ar": "Ù…ØªÙ‰ ØªÙ†ØªÙ‡ÙŠ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù†Ù‚Ø§Ø·ØŸ (Ø´Ù‡ÙˆØ±)",
      "type": "number",
      "default": 12
    },
    {
      "id": "birthday_bonus_points",
      "question": "Bonus points on customer's birthday?",
      "question_ar": "Ù†Ù‚Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ© ÙÙŠ Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø§Ù„Ø¹Ù…ÙŠÙ„ØŸ",
      "type": "number",
      "default": 100
    }
  ],
  "regionalConfig": {
    "kuwait": {
      "timezone": "Asia/Kuwait",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "KWD",
      "defaultLanguage": "bilingual"
    },
    "saudi": {
      "timezone": "Asia/Riyadh",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "SAR",
      "defaultLanguage": "arabic"
    },
    "uae": {
      "timezone": "Asia/Dubai",
      "workDays": [1, 2, 3, 4, 5],
      "currency": "AED",
      "defaultLanguage": "english"
    }
  }
}
