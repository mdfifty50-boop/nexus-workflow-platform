{
  "id": "patient_appointment_reminder",
  "name": "Patient Appointment Reminder",
  "name_ar": "ØªØ°ÙƒÙŠØ± Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù…Ø±ÙŠØ¶",
  "description": "Reduce no-shows by automatically sending appointment reminders via WhatsApp and SMS. Confirmations, rescheduling options, and pre-visit instructions delivered at optimal times.",
  "description_ar": "ØªÙ‚Ù„ÙŠÙ„ Ø¹Ø¯Ù… Ø§Ù„Ø­Ø¶ÙˆØ± Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¥Ø±Ø³Ø§Ù„ ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØ§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†ØµÙŠØ©. Ø§Ù„ØªØ£ÙƒÙŠØ¯Ø§Øª ÙˆØ®ÙŠØ§Ø±Ø§Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© ÙˆØªØ¹Ù„ÙŠÙ…Ø§Øª Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø²ÙŠØ§Ø±Ø© ÙÙŠ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©.",
  "domain": "clinic",
  "roiTier": 1,
  "annualValue": "$45,000/year",
  "requiredIntegrations": ["googlecalendar", "whatsapp", "googlesheets"],
  "optionalIntegrations": ["gmail", "slack", "twilio"],
  "exampleUserInput": "Send appointment reminders to my patients",
  "exampleUserInput_ar": "Ø£Ø±Ø³Ù„ ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ù„Ù…Ø±Ø¶Ø§ÙŠ",
  "keywords": ["appointment", "reminder", "patient", "clinic", "doctor", "no-show", "confirmation", "Ù…ÙˆØ¹Ø¯", "ØªØ°ÙƒÙŠØ±", "Ù…Ø±ÙŠØ¶", "Ø¹ÙŠØ§Ø¯Ø©", "Ø·Ø¨ÙŠØ¨", "ØªØ£ÙƒÙŠØ¯"],
  "dynamicParameters": {
    "reminder_times": {
      "type": "array",
      "default": [48, 24, 2],
      "label": "Hours before appointment to send reminders",
      "label_ar": "Ø³Ø§Ø¹Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª"
    },
    "require_confirmation": {
      "type": "boolean",
      "default": true,
      "label": "Require patient confirmation",
      "label_ar": "Ø·Ù„Ø¨ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø±ÙŠØ¶"
    },
    "include_prep_instructions": {
      "type": "boolean",
      "default": true,
      "label": "Include pre-appointment instructions",
      "label_ar": "ØªØ¶Ù…ÙŠÙ† ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯"
    },
    "auto_reschedule_window": {
      "type": "number",
      "default": 24,
      "label": "Hours before appointment to allow rescheduling",
      "label_ar": "Ø³Ø§Ø¹Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©"
    }
  },
  "messages": {
    "reminder_48h_en": "ðŸ“… *Appointment Reminder*\n\nDear {{patient_name}},\n\nThis is a reminder about your upcoming appointment:\n\nðŸ‘¨â€âš•ï¸ *Doctor:* Dr. {{doctor_name}}\nðŸ“… *Date:* {{appointment_date}}\nâ° *Time:* {{appointment_time}}\nðŸ“ *Location:* {{clinic_name}}\n{{clinic_address}}\n\n{{#if prep_instructions}}*Before Your Visit:*\n{{prep_instructions}}{{/if}}\n\n{{#if require_confirmation}}Please reply *CONFIRM* to confirm your appointment or *RESCHEDULE* if you need to change it.{{/if}}\n\n*Questions?* Call us at {{clinic_phone}}\n\nWe look forward to seeing you!",
    "reminder_48h_ar": "ðŸ“… *ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ù…ÙˆØ¹Ø¯*\n\nØ¹Ø²ÙŠØ²ÙŠ/Ø¹Ø²ÙŠØ²ØªÙŠ {{patient_name}}ØŒ\n\nÙ‡Ø°Ø§ ØªØ°ÙƒÙŠØ± Ø¨Ù…ÙˆØ¹Ø¯Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù…:\n\nðŸ‘¨â€âš•ï¸ *Ø§Ù„Ø·Ø¨ÙŠØ¨:* Ø¯. {{doctor_name}}\nðŸ“… *Ø§Ù„ØªØ§Ø±ÙŠØ®:* {{appointment_date}}\nâ° *Ø§Ù„ÙˆÙ‚Øª:* {{appointment_time}}\nðŸ“ *Ø§Ù„Ù…ÙˆÙ‚Ø¹:* {{clinic_name}}\n{{clinic_address}}\n\n{{#if prep_instructions}}*Ù‚Ø¨Ù„ Ø²ÙŠØ§Ø±ØªÙƒ:*\n{{prep_instructions}}{{/if}}\n\n{{#if require_confirmation}}ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø±Ø¯ Ø¨Ù€ *ØªØ£ÙƒÙŠØ¯* Ù„ØªØ£ÙƒÙŠØ¯ Ù…ÙˆØ¹Ø¯Ùƒ Ø£Ùˆ *Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø©* Ø¥Ø°Ø§ ÙƒÙ†Øª Ø¨Ø­Ø§Ø¬Ø© Ù„ØªØºÙŠÙŠØ±Ù‡.{{/if}}\n\n*Ø£Ø³Ø¦Ù„Ø©ØŸ* Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ø¹Ù„Ù‰ {{clinic_phone}}\n\nÙ†ØªØ·Ù„Ø¹ Ù„Ø±Ø¤ÙŠØªÙƒ!",
    "reminder_24h_en": "â° *Appointment Tomorrow*\n\nHi {{patient_name}},\n\nJust a reminder - your appointment is tomorrow!\n\nðŸ‘¨â€âš•ï¸ Dr. {{doctor_name}}\nðŸ“… {{appointment_date}} at {{appointment_time}}\nðŸ“ {{clinic_name}}\n\n{{#if not_confirmed}}âš ï¸ *Please confirm your attendance by replying CONFIRM*{{/if}}\n\n{{#if parking_info}}ðŸ…¿ï¸ *Parking:* {{parking_info}}{{/if}}\n\n*What to Bring:*\nâ€¢ Valid ID\nâ€¢ Insurance card\nâ€¢ List of current medications\n{{#if additional_items}}{{additional_items}}{{/if}}\n\nSee you tomorrow! ðŸ‘‹",
    "reminder_24h_ar": "â° *Ù…ÙˆØ¹Ø¯Ùƒ ØºØ¯Ø§Ù‹*\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ {{patient_name}}ØŒ\n\nØªØ°ÙƒÙŠØ± Ø³Ø±ÙŠØ¹ - Ù…ÙˆØ¹Ø¯Ùƒ ØºØ¯Ø§Ù‹!\n\nðŸ‘¨â€âš•ï¸ Ø¯. {{doctor_name}}\nðŸ“… {{appointment_date}} ÙÙŠ {{appointment_time}}\nðŸ“ {{clinic_name}}\n\n{{#if not_confirmed}}âš ï¸ *ÙŠØ±Ø¬Ù‰ ØªØ£ÙƒÙŠØ¯ Ø­Ø¶ÙˆØ±Ùƒ Ø¨Ø§Ù„Ø±Ø¯ Ø¨Ù€ ØªØ£ÙƒÙŠØ¯*{{/if}}\n\n{{#if parking_info}}ðŸ…¿ï¸ *Ø§Ù„Ù…ÙˆØ§Ù‚Ù:* {{parking_info}}{{/if}}\n\n*Ù…Ø§ ÙŠØ¬Ø¨ Ø¥Ø­Ø¶Ø§Ø±Ù‡:*\nâ€¢ Ø¨Ø·Ø§Ù‚Ø© Ù‡ÙˆÙŠØ© Ø³Ø§Ø±ÙŠØ©\nâ€¢ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ£Ù…ÙŠÙ†\nâ€¢ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©\n{{#if additional_items}}{{additional_items}}{{/if}}\n\nÙ†Ø±Ø§Ùƒ ØºØ¯Ø§Ù‹! ðŸ‘‹",
    "reminder_2h_en": "ðŸ”” *Appointment in 2 Hours*\n\n{{patient_name}}, your appointment with Dr. {{doctor_name}} is in 2 hours.\n\nâ° {{appointment_time}}\nðŸ“ {{clinic_name}}\n\n{{#if check_in_early}}Please arrive {{check_in_minutes}} minutes early for check-in.{{/if}}\n\nSee you soon!",
    "reminder_2h_ar": "ðŸ”” *Ù…ÙˆØ¹Ø¯Ùƒ Ø¨Ø¹Ø¯ Ø³Ø§Ø¹ØªÙŠÙ†*\n\n{{patient_name}}ØŒ Ù…ÙˆØ¹Ø¯Ùƒ Ù…Ø¹ Ø¯. {{doctor_name}} Ø¨Ø¹Ø¯ Ø³Ø§Ø¹ØªÙŠÙ†.\n\nâ° {{appointment_time}}\nðŸ“ {{clinic_name}}\n\n{{#if check_in_early}}ÙŠØ±Ø¬Ù‰ Ø§Ù„ÙˆØµÙˆÙ„ Ù‚Ø¨Ù„ {{check_in_minutes}} Ø¯Ù‚ÙŠÙ‚Ø© Ù„Ù„ØªØ³Ø¬ÙŠÙ„.{{/if}}\n\nÙ†Ø±Ø§Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹!",
    "confirmation_received_en": "âœ… *Appointment Confirmed*\n\nThank you, {{patient_name}}! Your appointment is confirmed.\n\nðŸ‘¨â€âš•ï¸ Dr. {{doctor_name}}\nðŸ“… {{appointment_date}} at {{appointment_time}}\nðŸ“ {{clinic_name}}\n\nWe've added this to your calendar. See you soon!",
    "confirmation_received_ar": "âœ… *ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆØ¹Ø¯*\n\nØ´ÙƒØ±Ø§Ù‹ Ù„Ùƒ {{patient_name}}! ØªÙ… ØªØ£ÙƒÙŠØ¯ Ù…ÙˆØ¹Ø¯Ùƒ.\n\nðŸ‘¨â€âš•ï¸ Ø¯. {{doctor_name}}\nðŸ“… {{appointment_date}} ÙÙŠ {{appointment_time}}\nðŸ“ {{clinic_name}}\n\nØ£Ø¶ÙÙ†Ø§Ù‡ Ø¥Ù„Ù‰ ØªÙ‚ÙˆÙŠÙ…Ùƒ. Ù†Ø±Ø§Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹!",
    "reschedule_options_en": "ðŸ“… *Reschedule Your Appointment*\n\nHi {{patient_name}},\n\nNo problem! Here are available times:\n\n{{#each available_slots}}\n{{number}}. {{date}} at {{time}}\n{{/each}}\n\nReply with the number of your preferred slot, or call {{clinic_phone}} for more options.",
    "reschedule_options_ar": "ðŸ“… *Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø© Ù…ÙˆØ¹Ø¯Ùƒ*\n\nÙ…Ø±Ø­Ø¨Ø§Ù‹ {{patient_name}}ØŒ\n\nÙ„Ø§ Ù…Ø´ÙƒÙ„Ø©! Ø¥Ù„ÙŠÙƒ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:\n\n{{#each available_slots}}\n{{number}}. {{date}} ÙÙŠ {{time}}\n{{/each}}\n\nØ±Ø¯ Ø¨Ø±Ù‚Ù… Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØ¶Ù„ Ù„Ø¯ÙŠÙƒØŒ Ø£Ùˆ Ø§ØªØµÙ„ Ø¹Ù„Ù‰ {{clinic_phone}} Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª.",
    "staff_unconfirmed_alert_en": "âš ï¸ *Unconfirmed Appointment Alert*\n\n*Patient:* {{patient_name}}\n*Doctor:* Dr. {{doctor_name}}\n*Time:* {{appointment_date}} at {{appointment_time}}\n*Status:* Not confirmed ({{hours_until}} hours until appointment)\n*Phone:* {{patient_phone}}\n\n*Action Required:* Call patient to confirm attendance"
  },
  "executionPlan": {
    "tasks": [
      {
        "id": "task_1",
        "name": "New Appointment Created",
        "name_ar": "Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙˆØ¹Ø¯ Ø¬Ø¯ÙŠØ¯",
        "type": "trigger",
        "integrationId": "googlecalendar",
        "dependencies": [],
        "config": {
          "toolSlug": "GOOGLECALENDAR_EVENT_CREATED",
          "action": "webhook",
          "params": {
            "calendar_id": "{{appointments_calendar}}"
          }
        }
      },
      {
        "id": "task_2",
        "name": "Extract Appointment Details",
        "name_ar": "Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆØ¹Ø¯",
        "type": "action",
        "integrationId": "system",
        "dependencies": ["task_1"],
        "config": {
          "toolSlug": "SYSTEM_PROCESS",
          "action": "parse",
          "params": {
            "event": "{{task_1.event}}",
            "extract": ["patient_name", "patient_phone", "doctor", "appointment_type"]
          }
        }
      },
      {
        "id": "task_3",
        "name": "Get Patient Record",
        "name_ar": "Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø±ÙŠØ¶",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_2"],
        "config": {
          "toolSlug": "GOOGLESHEETS_GET_VALUES",
          "action": "read",
          "params": {
            "spreadsheet_id": "{{patients_sheet}}",
            "range": "Patients!A:L",
            "filter": "phone = {{task_2.patient_phone}}"
          }
        }
      },
      {
        "id": "task_4",
        "name": "Schedule 48h Reminder",
        "name_ar": "Ø¬Ø¯ÙˆÙ„Ø© ØªØ°ÙƒÙŠØ± 48 Ø³Ø§Ø¹Ø©",
        "type": "action",
        "integrationId": "system",
        "dependencies": ["task_2"],
        "config": {
          "toolSlug": "SYSTEM_SCHEDULE",
          "action": "schedule",
          "params": {
            "time": "{{task_2.appointment_time_minus_48h}}",
            "action": "send_reminder_48h"
          }
        }
      },
      {
        "id": "task_5",
        "name": "Send 48h Reminder",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ ØªØ°ÙƒÙŠØ± 48 Ø³Ø§Ø¹Ø©",
        "type": "action",
        "integrationId": "whatsapp",
        "dependencies": ["task_4"],
        "config": {
          "toolSlug": "WHATSAPP_SEND_MESSAGE",
          "action": "send",
          "params": {
            "to": "{{task_2.patient_phone}}",
            "message": "{{messages.reminder_48h_{{task_3.language}}}}"
          }
        }
      },
      {
        "id": "task_6",
        "name": "Schedule 24h Reminder",
        "name_ar": "Ø¬Ø¯ÙˆÙ„Ø© ØªØ°ÙƒÙŠØ± 24 Ø³Ø§Ø¹Ø©",
        "type": "action",
        "integrationId": "system",
        "dependencies": ["task_2"],
        "config": {
          "toolSlug": "SYSTEM_SCHEDULE",
          "action": "schedule",
          "params": {
            "time": "{{task_2.appointment_time_minus_24h}}",
            "action": "send_reminder_24h"
          }
        }
      },
      {
        "id": "task_7",
        "name": "Handle Confirmation Response",
        "name_ar": "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø¯ Ø§Ù„ØªØ£ÙƒÙŠØ¯",
        "type": "trigger",
        "integrationId": "whatsapp",
        "dependencies": [],
        "config": {
          "toolSlug": "WHATSAPP_MESSAGE_RECEIVED",
          "action": "webhook",
          "params": {
            "filter": "CONFIRM|ØªØ£ÙƒÙŠØ¯|RESCHEDULE|Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ø¯ÙˆÙ„Ø©"
          }
        }
      },
      {
        "id": "task_8",
        "name": "Update Confirmation Status",
        "name_ar": "ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_7"],
        "config": {
          "toolSlug": "GOOGLESHEETS_UPDATE_VALUES",
          "action": "update",
          "params": {
            "spreadsheet_id": "{{appointments_sheet}}",
            "values": {"status": "confirmed", "confirmed_at": "{{timestamp}}"}
          }
        }
      },
      {
        "id": "task_9",
        "name": "Daily Unconfirmed Check",
        "name_ar": "ÙØ­Øµ ØºÙŠØ± Ø§Ù„Ù…Ø¤ÙƒØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ",
        "type": "trigger",
        "integrationId": "system",
        "dependencies": [],
        "config": {
          "toolSlug": "SYSTEM_SCHEDULE",
          "action": "cron",
          "params": {
            "schedule": "0 16 * * 0-4",
            "description": "Daily at 4 PM to check tomorrow's unconfirmed",
            "timezone": "{{timezone}}"
          }
        }
      },
      {
        "id": "task_10",
        "name": "Alert Staff About Unconfirmed",
        "name_ar": "ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø¹Ù† ØºÙŠØ± Ø§Ù„Ù…Ø¤ÙƒØ¯",
        "type": "action",
        "integrationId": "slack",
        "dependencies": ["task_9"],
        "config": {
          "toolSlug": "SLACK_SEND_MESSAGE",
          "action": "send",
          "params": {
            "channel": "#appointments",
            "message": "{{messages.staff_unconfirmed_alert_en}}",
            "condition": "unconfirmed_count > 0"
          }
        }
      }
    ],
    "requiredIntegrations": ["googlecalendar", "whatsapp", "googlesheets"]
  },
  "preFlightQuestions": [
    {
      "id": "reminder_times",
      "question": "When should reminders be sent? (hours before appointment)",
      "question_ar": "Ù…ØªÙ‰ ÙŠØ¬Ø¨ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§ØªØŸ (Ø³Ø§Ø¹Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯)",
      "type": "multiselect",
      "options": [
        {"value": "48", "label": "48 hours (2 days)"},
        {"value": "24", "label": "24 hours (1 day)"},
        {"value": "4", "label": "4 hours"},
        {"value": "2", "label": "2 hours"}
      ],
      "default": ["48", "24", "2"]
    },
    {
      "id": "require_confirmation",
      "question": "Require patients to confirm appointments?",
      "question_ar": "Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø±Ø¶Ù‰ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ØŸ",
      "type": "boolean",
      "default": true
    },
    {
      "id": "include_prep_instructions",
      "question": "Include pre-visit instructions?",
      "question_ar": "ØªØ¶Ù…ÙŠÙ† ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø²ÙŠØ§Ø±Ø©ØŸ",
      "type": "boolean",
      "default": true
    },
    {
      "id": "auto_reschedule_window",
      "question": "Allow rescheduling up to how many hours before?",
      "question_ar": "Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø­ØªÙ‰ ÙƒÙ… Ø³Ø§Ø¹Ø© Ù‚Ø¨Ù„ØŸ",
      "type": "number",
      "default": 24
    }
  ],
  "regionalConfig": {
    "kuwait": {
      "timezone": "Asia/Kuwait",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "KWD",
      "defaultLanguage": "bilingual",
      "healthcareRegulator": "MOH Kuwait"
    },
    "saudi": {
      "timezone": "Asia/Riyadh",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "SAR",
      "defaultLanguage": "arabic",
      "healthcareRegulator": "MOH Saudi"
    },
    "uae": {
      "timezone": "Asia/Dubai",
      "workDays": [1, 2, 3, 4, 5],
      "currency": "AED",
      "defaultLanguage": "english",
      "healthcareRegulator": "DHA/HAAD"
    }
  }
}
