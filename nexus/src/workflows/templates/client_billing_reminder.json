{
  "id": "client_billing_reminder",
  "name": "Client Billing Reminder Chain",
  "name_ar": "Ø³Ù„Ø³Ù„Ø© ØªØ°ÙƒÙŠØ± ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
  "description": "Automated billing reminder sequence: Send invoice, follow up at intervals, escalate overdue payments, and track payment status. Maintains professional client relationships while ensuring timely payments.",
  "description_ar": "Ø³Ù„Ø³Ù„Ø© ØªØ°ÙƒÙŠØ± ÙÙˆØªØ±Ø© Ø¢Ù„ÙŠØ©: Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©ØŒ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ù„Ù‰ ÙØªØ±Ø§ØªØŒ ØªØµØ¹ÙŠØ¯ Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©ØŒ ÙˆØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯. Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¹Ù„Ø§Ù‚Ø§Øª Ù…Ù‡Ù†ÙŠØ© Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø³Ø¯Ø§Ø¯ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯.",
  "domain": "lawyers",
  "roiTier": 1,
  "annualValue": "$48,000/year",
  "requiredIntegrations": ["gmail", "googlesheets", "slack"],
  "optionalIntegrations": ["whatsapp", "stripe", "quickbooks", "xero"],
  "exampleUserInput": "Send payment reminders to clients with overdue invoices",
  "exampleUserInput_ar": "Ø£Ø±Ø³Ù„ ØªØ°ÙƒÙŠØ±Ø§Øª Ø¯ÙØ¹ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø°ÙŠÙ† Ù„Ø¯ÙŠÙ‡Ù… ÙÙˆØ§ØªÙŠØ± Ù…ØªØ£Ø®Ø±Ø©",
  "keywords": ["billing", "invoice", "payment", "reminder", "overdue", "collection", "accounts receivable", "AR", "ÙØ§ØªÙˆØ±Ø©", "ÙÙˆØªØ±Ø©", "Ø¯ÙØ¹", "ØªØ°ÙƒÙŠØ±", "Ù…ØªØ£Ø®Ø±", "ØªØ­ØµÙŠÙ„"],
  "dynamicParameters": {
    "first_reminder_days": {
      "type": "number",
      "default": 7,
      "label": "Days after invoice for first reminder",
      "label_ar": "Ø£ÙŠØ§Ù… Ø¨Ø¹Ø¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ù„Ù„ØªØ°ÙƒÙŠØ± Ø§Ù„Ø£ÙˆÙ„",
      "required": true
    },
    "second_reminder_days": {
      "type": "number",
      "default": 14,
      "label": "Days for second reminder",
      "label_ar": "Ø£ÙŠØ§Ù… Ù„Ù„ØªØ°ÙƒÙŠØ± Ø§Ù„Ø«Ø§Ù†ÙŠ",
      "required": true
    },
    "escalation_days": {
      "type": "number",
      "default": 30,
      "label": "Days before escalation",
      "label_ar": "Ø£ÙŠØ§Ù… Ù‚Ø¨Ù„ Ø§Ù„ØªØµØ¹ÙŠØ¯",
      "required": true
    },
    "reminder_channel": {
      "type": "select",
      "options": ["email", "whatsapp", "both"],
      "default": "email",
      "label": "Primary reminder channel",
      "label_ar": "Ù‚Ù†Ø§Ø© Ø§Ù„ØªØ°ÙƒÙŠØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"
    },
    "include_payment_link": {
      "type": "boolean",
      "default": true,
      "label": "Include online payment link",
      "label_ar": "ØªØ¶Ù…ÙŠÙ† Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"
    },
    "currency": {
      "type": "select",
      "options": ["KWD", "SAR", "AED", "USD"],
      "default": "KWD",
      "label": "Currency",
      "label_ar": "Ø§Ù„Ø¹Ù…Ù„Ø©"
    },
    "language": {
      "type": "select",
      "options": ["english", "arabic", "bilingual"],
      "default": "bilingual",
      "label": "Reminder Language",
      "label_ar": "Ù„ØºØ© Ø§Ù„ØªØ°ÙƒÙŠØ±"
    }
  },
  "messages": {
    "invoice_sent_en": "ğŸ“§ *Invoice Sent*\n\nClient: {{client_name}}\nInvoice #: {{invoice_number}}\nAmount: {{currency}} {{amount}}\nDue Date: {{due_date}}\n\nPayment reminders scheduled.",
    "first_reminder_en": "Dear {{client_name}},\n\nI hope this message finds you well.\n\nThis is a friendly reminder that Invoice #{{invoice_number}} for {{currency}} {{amount}} was due on {{due_date}}.\n\nIf payment has already been made, please disregard this notice. Otherwise, we kindly request payment at your earliest convenience.\n\n{{#if payment_link}}Pay online: {{payment_link}}{{/if}}\n\nThank you for your continued trust in our services.\n\nBest regards,\n{{firm_name}}",
    "first_reminder_ar": "Ø¹Ø²ÙŠØ²ÙŠ {{client_name}}ØŒ\n\nØ£ØªÙ…Ù†Ù‰ Ø£Ù† ØªØµÙ„Ùƒ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆØ£Ù†Øª Ø¨Ø®ÙŠØ±.\n\nÙ‡Ø°Ø§ ØªØ°ÙƒÙŠØ± ÙˆØ¯ÙŠ Ø¨Ø£Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø±Ù‚Ù… {{invoice_number}} Ø¨Ù…Ø¨Ù„Øº {{currency}} {{amount}} ÙƒØ§Ù†Øª Ù…Ø³ØªØ­Ù‚Ø© ÙÙŠ {{due_date}}.\n\nØ¥Ø°Ø§ ØªÙ… Ø§Ù„Ø³Ø¯Ø§Ø¯ Ø¨Ø§Ù„ÙØ¹Ù„ØŒ ÙŠØ±Ø¬Ù‰ ØªØ¬Ø§Ù‡Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±. ÙˆØ¥Ù„Ø§ØŒ Ù†Ø±Ø¬Ùˆ Ø§Ù„Ø³Ø¯Ø§Ø¯ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†.\n\n{{#if payment_link}}Ù„Ù„Ø¯ÙØ¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Ù‹: {{payment_link}}{{/if}}\n\nØ´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒÙ… Ø§Ù„Ù…Ø³ØªÙ…Ø±Ø© Ø¨Ø®Ø¯Ù…Ø§ØªÙ†Ø§.\n\nÙ…Ø¹ Ø£Ø·ÙŠØ¨ Ø§Ù„ØªØ­ÙŠØ§ØªØŒ\n{{firm_name}}",
    "second_reminder_en": "Dear {{client_name}},\n\nWe are following up regarding Invoice #{{invoice_number}} for {{currency}} {{amount}}, which is now {{days_overdue}} days past due.\n\nWe understand that oversights happen, and we would appreciate your prompt attention to this matter.\n\nIf you are experiencing any difficulties with payment, please contact us to discuss arrangements.\n\n{{#if payment_link}}Pay online: {{payment_link}}{{/if}}\n\nThank you,\n{{firm_name}}",
    "second_reminder_ar": "Ø¹Ø²ÙŠØ²ÙŠ {{client_name}}ØŒ\n\nÙ†ØªØ§Ø¨Ø¹ Ù…Ø¹ÙƒÙ… Ø¨Ø®ØµÙˆØµ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø±Ù‚Ù… {{invoice_number}} Ø¨Ù…Ø¨Ù„Øº {{currency}} {{amount}}ØŒ Ø§Ù„Ù…ØªØ£Ø®Ø±Ø© Ø§Ù„Ø¢Ù† {{days_overdue}} ÙŠÙˆÙ…Ø§Ù‹.\n\nÙ†ØªÙÙ‡Ù… Ø£Ù† Ø§Ù„Ø³Ù‡Ùˆ ÙŠØ­Ø¯Ø«ØŒ ÙˆÙ†Ù‚Ø¯Ø± Ø§Ù‡ØªÙ…Ø§Ù…ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ¹ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±.\n\nØ¥Ø°Ø§ ÙƒÙ†ØªÙ… ØªÙˆØ§Ø¬Ù‡ÙˆÙ† Ø£ÙŠ ØµØ¹ÙˆØ¨Ø§Øª ÙÙŠ Ø§Ù„Ø³Ø¯Ø§Ø¯ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù„Ù…Ù†Ø§Ù‚Ø´Ø© Ø§Ù„ØªØ±ØªÙŠØ¨Ø§Øª.\n\n{{#if payment_link}}Ù„Ù„Ø¯ÙØ¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Ù‹: {{payment_link}}{{/if}}\n\nØ´ÙƒØ±Ø§Ù‹ØŒ\n{{firm_name}}",
    "escalation_en": "Dear {{client_name}},\n\nDespite our previous reminders, Invoice #{{invoice_number}} for {{currency}} {{amount}} remains unpaid after {{days_overdue}} days.\n\nTo avoid any disruption to our professional relationship and potential further action, we request immediate payment.\n\nPlease contact our office at {{phone}} to discuss this matter urgently.\n\nSincerely,\n{{firm_name}}",
    "escalation_ar": "Ø¹Ø²ÙŠØ²ÙŠ {{client_name}}ØŒ\n\nØ¹Ù„Ù‰ Ø§Ù„Ø±ØºÙ… Ù…Ù† ØªØ°ÙƒÙŠØ±Ø§ØªÙ†Ø§ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŒ ØªØ¸Ù„ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø±Ù‚Ù… {{invoice_number}} Ø¨Ù…Ø¨Ù„Øº {{currency}} {{amount}} ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø© Ø¨Ø¹Ø¯ {{days_overdue}} ÙŠÙˆÙ…Ø§Ù‹.\n\nÙ„ØªØ¬Ù†Ø¨ Ø£ÙŠ ØªØ¹Ø·ÙŠÙ„ Ù„Ø¹Ù„Ø§Ù‚ØªÙ†Ø§ Ø§Ù„Ù…Ù‡Ù†ÙŠØ© ÙˆØ£ÙŠ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø­ØªÙ…Ù„Ø©ØŒ Ù†Ø·Ù„Ø¨ Ø§Ù„Ø³Ø¯Ø§Ø¯ Ø§Ù„ÙÙˆØ±ÙŠ.\n\nÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ù…ÙƒØªØ¨Ù†Ø§ Ø¹Ù„Ù‰ {{phone}} Ù„Ù…Ù†Ø§Ù‚Ø´Ø© Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ø¬Ù„.\n\nÙ…Ø¹ Ø§Ù„ØªØ­ÙŠØ©ØŒ\n{{firm_name}}",
    "payment_received_en": "âœ… *Payment Received*\n\nClient: {{client_name}}\nInvoice #: {{invoice_number}}\nAmount: {{currency}} {{amount}}\nPayment Date: {{payment_date}}\n\nReminder chain stopped. Thank you recorded sent.",
    "slack_escalation": "ğŸš¨ *Payment Escalation Required*\n\nClient: {{client_name}}\nInvoice #: {{invoice_number}}\nAmount: {{currency}} {{amount}}\nDays Overdue: {{days_overdue}}\n\nEscalation email sent. Personal follow-up recommended."
  },
  "executionPlan": {
    "tasks": [
      {
        "id": "task_1",
        "name": "Daily Invoice Check (Trigger)",
        "name_ar": "ÙØ­Øµ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ (Ù…Ø­ÙØ²)",
        "type": "trigger",
        "integrationId": "system",
        "dependencies": [],
        "config": {
          "toolSlug": "SYSTEM_SCHEDULE",
          "action": "cron",
          "params": {
            "schedule": "0 9 * * 0-4",
            "description": "Daily check at 9 AM (Sunday-Thursday)",
            "timezone": "{{timezone}}"
          }
        }
      },
      {
        "id": "task_2",
        "name": "Query Overdue Invoices",
        "name_ar": "Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_1"],
        "config": {
          "toolSlug": "GOOGLESHEETS_GET_VALUES",
          "action": "query",
          "params": {
            "spreadsheetId": "{{invoices_sheet_id}}",
            "range": "Invoices!A:K",
            "filter": "status = 'unpaid' AND due_date < today()"
          }
        }
      },
      {
        "id": "task_3",
        "name": "Categorize by Days Overdue",
        "name_ar": "ØªØµÙ†ÙŠÙ Ø­Ø³Ø¨ Ø£ÙŠØ§Ù… Ø§Ù„ØªØ£Ø®ÙŠØ±",
        "type": "action",
        "integrationId": "system",
        "dependencies": ["task_2"],
        "config": {
          "toolSlug": "SYSTEM_PROCESS",
          "action": "categorize",
          "params": {
            "input": "{{task_2.rows}}",
            "categories": {
              "first_reminder": "days_overdue >= first_reminder_days AND days_overdue < second_reminder_days",
              "second_reminder": "days_overdue >= second_reminder_days AND days_overdue < escalation_days",
              "escalation": "days_overdue >= escalation_days"
            }
          }
        }
      },
      {
        "id": "task_4",
        "name": "Send First Reminders",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø£ÙˆÙ„Ù‰",
        "type": "action",
        "integrationId": "gmail",
        "dependencies": ["task_3"],
        "config": {
          "toolSlug": "GMAIL_SEND_EMAIL",
          "action": "batch_send",
          "params": {
            "recipients": "{{task_3.first_reminder}}",
            "subject": "Payment Reminder - Invoice #{{invoice_number}} / ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø¯ÙØ¹",
            "body": "{{messages.first_reminder_{{language}}}}",
            "description": "Send friendly first reminders"
          }
        }
      },
      {
        "id": "task_5",
        "name": "Send Second Reminders",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø«Ø§Ù†ÙŠØ©",
        "type": "action",
        "integrationId": "gmail",
        "dependencies": ["task_3"],
        "config": {
          "toolSlug": "GMAIL_SEND_EMAIL",
          "action": "batch_send",
          "params": {
            "recipients": "{{task_3.second_reminder}}",
            "subject": "Second Notice - Invoice #{{invoice_number}} Overdue / Ø¥Ø´Ø¹Ø§Ø± Ø«Ø§Ù†Ù - ÙØ§ØªÙˆØ±Ø© Ù…ØªØ£Ø®Ø±Ø©",
            "body": "{{messages.second_reminder_{{language}}}}"
          }
        }
      },
      {
        "id": "task_6",
        "name": "Send Escalation Notices",
        "name_ar": "Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªØµØ¹ÙŠØ¯",
        "type": "action",
        "integrationId": "gmail",
        "dependencies": ["task_3"],
        "config": {
          "toolSlug": "GMAIL_SEND_EMAIL",
          "action": "batch_send",
          "params": {
            "recipients": "{{task_3.escalation}}",
            "subject": "URGENT: Invoice #{{invoice_number}} - Immediate Payment Required / Ø¹Ø§Ø¬Ù„: Ù…Ø·Ù„ÙˆØ¨ Ø§Ù„Ø³Ø¯Ø§Ø¯ Ø§Ù„ÙÙˆØ±ÙŠ",
            "body": "{{messages.escalation_{{language}}}}"
          }
        }
      },
      {
        "id": "task_7",
        "name": "Notify Team of Escalations",
        "name_ar": "Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ÙØ±ÙŠÙ‚ Ø¨Ø§Ù„ØªØµØ¹ÙŠØ¯Ø§Øª",
        "type": "action",
        "integrationId": "slack",
        "dependencies": ["task_6"],
        "config": {
          "toolSlug": "SLACK_SEND_MESSAGE",
          "action": "send",
          "params": {
            "channel": "#billing",
            "message": "{{messages.slack_escalation}}"
          }
        }
      },
      {
        "id": "task_8",
        "name": "Update Invoice Status",
        "name_ar": "ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©",
        "type": "action",
        "integrationId": "googlesheets",
        "dependencies": ["task_4", "task_5", "task_6"],
        "config": {
          "toolSlug": "GOOGLESHEETS_BATCH_UPDATE",
          "action": "update",
          "params": {
            "spreadsheetId": "{{invoices_sheet_id}}",
            "updates": "{{reminder_log}}"
          }
        }
      }
    ],
    "requiredIntegrations": ["gmail", "googlesheets", "slack"]
  },
  "preFlightQuestions": [
    {
      "id": "first_reminder_days",
      "question": "When should the first reminder be sent (days after due date)?",
      "question_ar": "Ù…ØªÙ‰ ÙŠØ¬Ø¨ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ± Ø§Ù„Ø£ÙˆÙ„ (Ø£ÙŠØ§Ù… Ø¨Ø¹Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚)ØŸ",
      "type": "number",
      "default": 7
    },
    {
      "id": "escalation_days",
      "question": "After how many days should we escalate?",
      "question_ar": "Ø¨Ø¹Ø¯ ÙƒÙ… ÙŠÙˆÙ… ÙŠØ¬Ø¨ Ø§Ù„ØªØµØ¹ÙŠØ¯ØŸ",
      "type": "number",
      "default": 30
    },
    {
      "id": "language",
      "question": "What language should reminders be in?",
      "question_ar": "Ø¨Ø£ÙŠ Ù„ØºØ© ÙŠØ¬Ø¨ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§ØªØŸ",
      "type": "select",
      "options": [
        {"value": "english", "label": "English"},
        {"value": "arabic", "label": "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"},
        {"value": "bilingual", "label": "Both / ÙƒÙ„Ø§Ù‡Ù…Ø§"}
      ],
      "default": "bilingual"
    },
    {
      "id": "include_payment_link",
      "question": "Include online payment link in reminders?",
      "question_ar": "ØªØ¶Ù…ÙŠÙ† Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙÙŠ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§ØªØŸ",
      "type": "boolean",
      "default": true
    }
  ],
  "regionalConfig": {
    "kuwait": {
      "timezone": "Asia/Kuwait",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "KWD",
      "vatRate": 0,
      "paymentMethods": ["bank_transfer", "knet", "cheque"]
    },
    "saudi": {
      "timezone": "Asia/Riyadh",
      "workDays": [0, 1, 2, 3, 4],
      "currency": "SAR",
      "vatRate": 15,
      "paymentMethods": ["bank_transfer", "mada", "sadad"]
    },
    "uae": {
      "timezone": "Asia/Dubai",
      "workDays": [1, 2, 3, 4, 5],
      "currency": "AED",
      "vatRate": 5,
      "paymentMethods": ["bank_transfer", "card", "cheque"]
    }
  }
}
