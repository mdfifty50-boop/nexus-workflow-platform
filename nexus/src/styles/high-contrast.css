/**
 * High Contrast Theme - WCAG AA/AAA Compliant
 *
 * This stylesheet provides enhanced contrast ratios for users with
 * low vision or those who prefer higher contrast interfaces.
 *
 * Contrast ratios:
 * - Normal text (14px+): minimum 4.5:1 (WCAG AA)
 * - Large text (18px+ or 14px bold): minimum 3:1 (WCAG AA)
 * - Enhanced mode: minimum 7:1 (WCAG AAA)
 */

/* ====================================
   High Contrast Theme Variables
   ==================================== */

[data-theme="high-contrast"],
.high-contrast-mode {
  /* Core colors with enhanced contrast */
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;

  /* Card with clear boundaries */
  --card: 0 0% 5%;
  --card-foreground: 0 0% 100%;

  /* Popover */
  --popover: 0 0% 5%;
  --popover-foreground: 0 0% 100%;

  /* Primary - bright cyan for excellent visibility */
  --primary: 180 100% 50%;
  --primary-foreground: 0 0% 0%;

  /* Secondary - bright yellow */
  --secondary: 60 100% 50%;
  --secondary-foreground: 0 0% 0%;

  /* Muted - still visible but subdued */
  --muted: 0 0% 15%;
  --muted-foreground: 0 0% 85%;

  /* Accent - bright magenta */
  --accent: 300 100% 60%;
  --accent-foreground: 0 0% 0%;

  /* Destructive - bright red */
  --destructive: 0 100% 60%;
  --destructive-foreground: 0 0% 100%;

  /* Border - clearly visible */
  --border: 0 0% 50%;
  --input: 0 0% 15%;
  --ring: 180 100% 50%;

  /* Success/Warning/Info */
  --success: 120 100% 40%;
  --warning: 45 100% 50%;
  --info: 210 100% 60%;
}

/* ====================================
   High Contrast Base Styles
   ==================================== */

.high-contrast-mode {
  /* Force hardware acceleration for smoother rendering */
  -webkit-font-smoothing: subpixel-antialiased;
  -moz-osx-font-smoothing: auto;
}

.high-contrast-mode body {
  background: #000000 !important;
  color: #ffffff !important;
}

/* ====================================
   Typography
   ==================================== */

.high-contrast-mode h1,
.high-contrast-mode h2,
.high-contrast-mode h3,
.high-contrast-mode h4,
.high-contrast-mode h5,
.high-contrast-mode h6 {
  color: #ffffff;
  font-weight: 700;
}

.high-contrast-mode p,
.high-contrast-mode span,
.high-contrast-mode div {
  color: #ffffff;
}

.high-contrast-mode .text-muted-foreground,
.high-contrast-mode .text-slate-400,
.high-contrast-mode .text-slate-500,
.high-contrast-mode .text-gray-400,
.high-contrast-mode .text-gray-500 {
  color: #d0d0d0 !important;
}

/* ====================================
   Links
   ==================================== */

.high-contrast-mode a {
  color: #00ffff;
  text-decoration: underline;
  text-underline-offset: 3px;
}

.high-contrast-mode a:hover {
  color: #ffff00;
}

.high-contrast-mode a:focus-visible {
  outline: 3px solid #00ffff;
  outline-offset: 2px;
}

/* ====================================
   Buttons
   ==================================== */

.high-contrast-mode button,
.high-contrast-mode [role="button"] {
  border: 2px solid currentColor !important;
}

.high-contrast-mode button:focus-visible,
.high-contrast-mode [role="button"]:focus-visible {
  outline: 3px solid #00ffff !important;
  outline-offset: 2px !important;
}

/* Primary button */
.high-contrast-mode .btn-primary,
.high-contrast-mode button[class*="bg-primary"],
.high-contrast-mode button[class*="bg-cyan"] {
  background: #00ffff !important;
  color: #000000 !important;
  border-color: #00ffff !important;
}

.high-contrast-mode .btn-primary:hover,
.high-contrast-mode button[class*="bg-primary"]:hover {
  background: #ffffff !important;
  color: #000000 !important;
}

/* Secondary button */
.high-contrast-mode button[class*="bg-secondary"] {
  background: #ffff00 !important;
  color: #000000 !important;
  border-color: #ffff00 !important;
}

/* Destructive button */
.high-contrast-mode button[class*="destructive"],
.high-contrast-mode button[class*="bg-red"] {
  background: #ff3333 !important;
  color: #ffffff !important;
  border-color: #ff3333 !important;
}

/* Outline button */
.high-contrast-mode button[class*="outline"],
.high-contrast-mode button[class*="variant-outline"] {
  background: transparent !important;
  color: #ffffff !important;
  border: 2px solid #ffffff !important;
}

.high-contrast-mode button[class*="outline"]:hover {
  background: #ffffff !important;
  color: #000000 !important;
}

/* ====================================
   Form Controls
   ==================================== */

.high-contrast-mode input,
.high-contrast-mode textarea,
.high-contrast-mode select {
  background: #000000 !important;
  color: #ffffff !important;
  border: 2px solid #808080 !important;
}

.high-contrast-mode input:focus,
.high-contrast-mode textarea:focus,
.high-contrast-mode select:focus {
  border-color: #00ffff !important;
  outline: 2px solid #00ffff !important;
  outline-offset: 0 !important;
}

.high-contrast-mode input::placeholder,
.high-contrast-mode textarea::placeholder {
  color: #a0a0a0 !important;
}

/* Disabled inputs */
.high-contrast-mode input:disabled,
.high-contrast-mode textarea:disabled,
.high-contrast-mode select:disabled {
  background: #1a1a1a !important;
  color: #666666 !important;
  border-color: #444444 !important;
}

/* Checkboxes and radios */
.high-contrast-mode input[type="checkbox"],
.high-contrast-mode input[type="radio"] {
  appearance: none;
  width: 20px;
  height: 20px;
  border: 2px solid #ffffff !important;
  background: #000000 !important;
}

.high-contrast-mode input[type="checkbox"]:checked {
  background: #00ffff !important;
  border-color: #00ffff !important;
}

.high-contrast-mode input[type="checkbox"]:checked::after {
  content: '\2713';
  display: block;
  text-align: center;
  color: #000000;
  font-weight: bold;
  font-size: 14px;
  line-height: 16px;
}

.high-contrast-mode input[type="radio"] {
  border-radius: 50%;
}

.high-contrast-mode input[type="radio"]:checked {
  background: radial-gradient(circle, #00ffff 40%, transparent 40%);
  border-color: #00ffff !important;
}

/* ====================================
   Cards and Containers
   ==================================== */

.high-contrast-mode .card,
.high-contrast-mode [class*="bg-card"],
.high-contrast-mode [class*="bg-slate-800"],
.high-contrast-mode [class*="bg-slate-900"] {
  background: #0a0a0a !important;
  border: 2px solid #808080 !important;
}

.high-contrast-mode [role="dialog"] {
  background: #000000 !important;
  border: 3px solid #ffffff !important;
}

/* ====================================
   Borders
   ==================================== */

.high-contrast-mode [class*="border-border"],
.high-contrast-mode [class*="border-slate"],
.high-contrast-mode [class*="divide-"] > * {
  border-color: #808080 !important;
}

/* ====================================
   Status Indicators
   ==================================== */

/* Success */
.high-contrast-mode .text-green-400,
.high-contrast-mode .text-green-500,
.high-contrast-mode .text-emerald-400,
.high-contrast-mode .text-emerald-500 {
  color: #00ff00 !important;
}

.high-contrast-mode [class*="bg-green"],
.high-contrast-mode [class*="bg-emerald"] {
  background: #00ff00 !important;
  color: #000000 !important;
}

/* Error */
.high-contrast-mode .text-red-400,
.high-contrast-mode .text-red-500,
.high-contrast-mode .text-destructive {
  color: #ff3333 !important;
}

.high-contrast-mode [class*="bg-red"],
.high-contrast-mode [class*="bg-destructive"] {
  background: #ff3333 !important;
  color: #ffffff !important;
}

/* Warning */
.high-contrast-mode .text-yellow-400,
.high-contrast-mode .text-yellow-500,
.high-contrast-mode .text-amber-400,
.high-contrast-mode .text-amber-500 {
  color: #ffff00 !important;
}

.high-contrast-mode [class*="bg-yellow"],
.high-contrast-mode [class*="bg-amber"] {
  background: #ffff00 !important;
  color: #000000 !important;
}

/* Info */
.high-contrast-mode .text-blue-400,
.high-contrast-mode .text-blue-500,
.high-contrast-mode .text-cyan-400,
.high-contrast-mode .text-cyan-500 {
  color: #00ffff !important;
}

/* ====================================
   Focus Indicators
   ==================================== */

.high-contrast-mode *:focus-visible {
  outline: 3px solid #00ffff !important;
  outline-offset: 2px !important;
}

.high-contrast-mode .focus-ring:focus-visible {
  box-shadow:
    0 0 0 2px #000000,
    0 0 0 5px #00ffff !important;
}

/* ====================================
   Navigation
   ==================================== */

.high-contrast-mode nav a[aria-current="page"],
.high-contrast-mode nav a.active {
  background: #ffffff !important;
  color: #000000 !important;
}

/* ====================================
   Tables
   ==================================== */

.high-contrast-mode table {
  border: 2px solid #ffffff !important;
}

.high-contrast-mode th,
.high-contrast-mode td {
  border: 1px solid #808080 !important;
  padding: 12px !important;
}

.high-contrast-mode th {
  background: #1a1a1a !important;
  color: #ffffff !important;
  font-weight: 700;
}

.high-contrast-mode tr:hover {
  background: #1a1a1a !important;
}

/* ====================================
   Tooltips and Popovers
   ==================================== */

.high-contrast-mode [role="tooltip"],
.high-contrast-mode [data-state="open"][data-side] {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #000000 !important;
}

/* ====================================
   Progress Indicators
   ==================================== */

.high-contrast-mode .progress-bar,
.high-contrast-mode [role="progressbar"] {
  background: #333333 !important;
}

.high-contrast-mode .progress-bar-fill,
.high-contrast-mode [role="progressbar"] > div {
  background: #00ffff !important;
}

/* ====================================
   Icons
   ==================================== */

.high-contrast-mode svg {
  stroke-width: 2.5;
}

.high-contrast-mode [class*="text-slate-400"] svg,
.high-contrast-mode [class*="text-slate-500"] svg {
  color: #ffffff !important;
}

/* ====================================
   Badges and Tags
   ==================================== */

.high-contrast-mode [class*="badge"],
.high-contrast-mode [class*="tag"] {
  border: 2px solid currentColor !important;
  font-weight: 600;
}

/* ====================================
   Scrollbars
   ==================================== */

.high-contrast-mode ::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.high-contrast-mode ::-webkit-scrollbar-track {
  background: #000000;
  border: 1px solid #808080;
}

.high-contrast-mode ::-webkit-scrollbar-thumb {
  background: #ffffff;
  border: 2px solid #000000;
  border-radius: 6px;
}

.high-contrast-mode ::-webkit-scrollbar-thumb:hover {
  background: #00ffff;
}

/* ====================================
   Selection
   ==================================== */

.high-contrast-mode ::selection {
  background: #00ffff;
  color: #000000;
}

.high-contrast-mode ::-moz-selection {
  background: #00ffff;
  color: #000000;
}

/* ====================================
   Skip Links
   ==================================== */

.high-contrast-mode .skip-link {
  background: #ffffff !important;
  color: #000000 !important;
  border: 3px solid #000000 !important;
  font-weight: 700;
}

.high-contrast-mode .skip-link:focus {
  outline: 3px solid #00ffff !important;
}

/* ====================================
   Animations - Reduce Motion
   ==================================== */

@media (prefers-reduced-motion: reduce) {
  .high-contrast-mode * {
    animation: none !important;
    transition: none !important;
  }
}

/* ====================================
   Print Styles
   ==================================== */

@media print {
  .high-contrast-mode {
    background: white !important;
    color: black !important;
  }

  .high-contrast-mode * {
    background: white !important;
    color: black !important;
    border-color: black !important;
  }
}
