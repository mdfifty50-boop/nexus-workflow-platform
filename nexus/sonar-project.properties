# SonarCloud Configuration for Nexus
# Documentation: https://docs.sonarcloud.io/advanced-setup/ci-based-analysis/sonarscanner-for-npm/

# Required: Project identification (set via GitHub secrets)
sonar.organization=${SONAR_ORGANIZATION}
sonar.projectKey=${SONAR_PROJECT_KEY}

# Project metadata
sonar.projectName=Nexus AI Workflow Platform
sonar.projectVersion=1.0.0

# Source configuration
sonar.sources=src
sonar.tests=tests,src/**/__tests__
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx

# TypeScript/JavaScript configuration
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.tsconfigPath=tsconfig.json

# Exclusions (don't analyze these)
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/*.config.js,\
  **/*.config.ts,\
  **/vite.config.ts,\
  **/vitest.config.ts,\
  **/tailwind.config.js,\
  **/postcss.config.js

# Test file exclusions from main analysis
sonar.test.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  **/*.spec.tsx,\
  **/tests/**,\
  **/__tests__/**

# Coverage exclusions
sonar.coverage.exclusions=\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/tests/**,\
  **/__tests__/**,\
  **/types/**,\
  **/*.d.ts

# Encoding
sonar.sourceEncoding=UTF-8

# Quality Gate: Only fail on high-severity issues
# Note: Actual quality gate is configured in SonarCloud UI
# These are hints for the expected behavior:
# - Fail on: Bugs (Reliability), Vulnerabilities (Security) with severity >= HIGH
# - Don't fail on: Code Smells (Maintainability), style issues
